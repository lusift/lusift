!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("tslib"),require("vue-demi")):"function"==typeof define&&define.amd?define(["tslib","vue-demi"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["Lusift-vue"]=e(t.tslib,t.vueDemi)}(this,(function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var i=n(t),r=o(e);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},c="undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{},u=console.log;function l(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];console.warn.apply(console,t.__spreadArray(["Lusift: "+e],n,!1))}function d(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];console.error.apply(console,t.__spreadArray(["Lusift: "+e],n,!1))}c.window||d("window is undefined");var f=function(){try{var t=c.window.localStorage.getItem("lusift_state");if(!t)return;return JSON.parse(t)}catch(t){return}},p=function(t){try{var e=JSON.stringify(t);c.window.localStorage.setItem("lusift_state",e)}catch(t){}};function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t){return t instanceof Object&&t.constructor===Object}function g(t){return v(t)||void 0===t}function m(t){var e=["bottom","top","right","left","auto"];return e.forEach((function(t){e.push(t+"-start"),e.push(t+"-end")})),v(t)&&"boolean"==typeof t.arrow&&(!t.offset||t.offset instanceof Object&&2===t.offset.length)&&(!t.actions||v(t.actions))&&e.includes(t.placement)&&("string"==typeof t.contentBody||!t.contentBody&&"boolean"!=typeof t.contentBody)&&g(t.progressOn)&&g(t.backdrop)}function b(t){return v(t)&&"number"==typeof t.index&&["tooltip","hotspot","modal"].includes(t.type)&&function(t,e){var n="string"==typeof t.elementSelector&&!!t.elementSelector;return v(t)&&(n||"modal"===e)&&v(t.path)&&"string"==typeof t.path.comparator&&["is","contains","endsWith","startsWith"].includes(t.path.comparator)&&"string"==typeof t.path.value}(t.target,t.type)&&(function(t){return m(t.data)&&g(t.styleProps)&&"tooltip"===t.type&&m(t.data)}(t)||function(t){return"hotspot"===t.type}(t)||function(t){return"modal"===t.type&&v(t.data)&&g(t.closeButton)}(t))}function y(t){var e=["guide"];return v(t)&&Object.values(t).every((function(t){return h(e.includes(t.type))&&function(t){return v(t)&&"string"==typeof t.id&&!!t.id&&"string"==typeof t.name&&"string"==typeof t.description&&t.steps instanceof Object&&t.steps.hasOwnProperty("length")&&t.steps.every(b)}(t.data)}))}function w(t,e){return t=Object.assign({},t),e=Object.assign({},e),Object.keys(e).forEach((function(n){try{v(e[n])?t[n]=w(t[n],e[n]):t[n]=e[n]}catch(o){t[n]=e[n]}})),t}var x=function(t){var e="";return Object.keys(t).forEach((function(n){e+=n.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))+": "+t[n]+" !important;\n"})),e},_=function(t){var e=t.guideID,n=t.index;return"lusift--g-"+e+"--"+t.type+"-"+n},S=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,o){return t[0]===e&&(n=o,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),o=this.__entries__[n];return o&&o[1]},e.prototype.set=function(e,n){var o=t(this.__entries__,e);~o?this.__entries__[o][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,o=t(n,e);~o&&n.splice(o,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,o=this.__entries__;n<o.length;n++){var i=o[n];t.call(e,i[1],i[0])}},e}()}(),k="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,O="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),E="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(O):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var T=["top","right","bottom","left","width","height","size","weight"],C="undefined"!=typeof MutationObserver,L=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,o=!1,i=0;function r(){n&&(n=!1,t()),o&&a()}function s(){E(r)}function a(){var t=Date.now();if(n){if(t-i<2)return;o=!0}else n=!0,o=!1,setTimeout(s,e);i=t}return a}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){k&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),C?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){k&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;T.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),A=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var i=o[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},D=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||O},j=B(0,0,0,0);function I(t){return parseFloat(t)||0}function R(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+I(t["border-"+n+"-width"])}),0)}function P(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return j;var o=D(t).getComputedStyle(t),i=function(t){for(var e={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var i=o[n],r=t["padding-"+i];e[i]=I(r)}return e}(o),r=i.left+i.right,s=i.top+i.bottom,a=I(o.width),c=I(o.height);if("border-box"===o.boxSizing&&(Math.round(a+r)!==e&&(a-=R(o,"left","right")+r),Math.round(c+s)!==n&&(c-=R(o,"top","bottom")+s)),!function(t){return t===D(t).document.documentElement}(t)){var u=Math.round(a+r)-e,l=Math.round(c+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(l)&&(c-=l)}return B(i.left,i.top,a,c)}var z="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof D(t).SVGGraphicsElement}:function(t){return t instanceof D(t).SVGElement&&"function"==typeof t.getBBox};function N(t){return k?z(t)?function(t){var e=t.getBBox();return B(0,0,e.width,e.height)}(t):P(t):j}function B(t,e,n,o){return{x:t,y:e,width:n,height:o}}var H=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=B(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=N(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),G=function(t,e){var n=function(t){var e=t.x,n=t.y,o=t.width,i=t.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(r.prototype);return A(s,{x:e,y:n,width:o,height:i,top:n,right:e+o,bottom:i+n,left:e}),s}(e);A(this,{target:t,contentRect:n})},M=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new S,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof D(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new H(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof D(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new G(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),F="undefined"!=typeof WeakMap?new WeakMap:new S,W=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=L.getInstance(),o=new M(e,n,this);F.set(this,o)};["observe","unobserve","disconnect"].forEach((function(t){W.prototype[t]=function(){var e;return(e=F.get(this))[t].apply(e,arguments)}}));var q=void 0!==O.ResizeObserver?O.ResizeObserver:W,U=function(t,e){var n=new q((function(){return e()}));return n.observe(t),n},V=function(t){var e=c.document.documentElement,n=c.document.body,o=c.window.pageYOffset||e.scrollTop||n.scrollTop,i=c.window.pageXOffset||e.scrollLeft||n.scrollLeft,r=t.getBoundingClientRect();return{top:r.top+o,left:r.left+i,right:r.left+i+r.width,bottom:r.top+o+r.height,height:r.height,width:r.width}},X=function(e,n){var o,i,r=f(),s=c.window.Lusift.activeGuide.id;p(t.__assign(t.__assign({},r),((o={})[s]=t.__assign(t.__assign({},r[s]),{trackingState:t.__assign(t.__assign({},r[s].trackingState),{asyncSteps:t.__assign(t.__assign({},r[s].trackingState.asyncSteps),(i={},i[e]={toOpen:n},i))})}),o)))},$=function(t,e){return void 0===e&&(e=2),Math.round((t+Number.EPSILON)*Math.pow(10,e))/Math.pow(10,e)},Y=function(t){var e,n=t.value,o=t.comparator,i=c.window.location,r=i.pathname+i.hash;switch(o){case"is":return r===n;case"contains":return r.includes(n);case"endsWith":return r.endsWith(n);case"startWith":return r.startsWith(n);case"regex":return e=r,new RegExp(n,"i").test(e);default:return!1}},J=function(t){var e,n=t.target,o=t.type,i=Y(n.path);return"modal"!==o&&(i=i&&(e=n.elementSelector,Boolean(c.document.querySelector(e)))),i},K="lusift-modal-overlay",Z="4px",Q="4px",tt="#17a3a8",et=function(){var t=f()[c.window.Lusift.activeGuide.id];if(!t)return"";if(!t){return'\n      <progress class="lusift-progress" aria-label="progressbar" max="100" value="66.66">\n        66.66%\n      </progress>\n    '}var e=t.steps[t.trackingState.currentStepIndex],n=t.progressBar||{},o=n.height,i=void 0===o?"3px":o,r=n.color,s=void 0===r?tt:r,a=n.borderRadius;a||(a="modal"===e.type?e.styleProps&&e.styleProps.borderRadius||Q:e.styleProps&&e.styleProps.borderRadius||Z);var u=t.steps.filter((function(t){return!("hotspot"===t.type&&t.async)})),l=(u.findIndex((function(t){return t.index===e.index}))+1)/(u.length+1)*100;return"\n    <style>\n      .lusift-progress {\n        height: "+i+";\n      }\n      .lusift-progress::-webkit-progress-bar {\n        border-radius: "+a+"; /*border-radius of tooltip*/\n      }\n      .lusift-progress::-webkit-progress-value {\n        background-color: "+s+'; /*color of progress bar*/\n      }\n    </style>\n\n    <progress class="lusift-progress" aria-label="progressbar" max="100" value="'+l+'">\n      '+l+"%\n    </progress>\n    "},nt=function(t,e){return t.disabled?'<div style="margin-top: 0.7rem"></div>':"\n    <style>\n      .lusift ."+e.toLowerCase()+" .closeX{\n        "+x(t.styleProps)+'\n      }\n    </style>\n\n    <section class="close-btn">\n      <button onclick="Lusift.close()" class="closeX close">&times;</button>\n    </section>\n  '},ot={exports:{}};!function(t,e){t.exports=function(t){function e(){return document.createElement("div")}function n(t){return{box:t.querySelector(".floating-ui-tooltip-box"),content:t.querySelector(".floating-ui-tooltip-content"),arrow:t.querySelector(".floating-ui-tooltip-arrow")||void 0}}function o(t){return t.split("-")[0]}function i(t){return t.split("-")[1]}function r(t){return["top","bottom"].includes(o(t))?"x":"y"}function s(t){return"y"===t?"height":"width"}function a(t,e,n){let{reference:a,floating:c}=t;const u=a.x+a.width/2-c.width/2,l=a.y+a.height/2-c.height/2,d=r(e),f=s(d),p=a[f]/2-c[f]/2,h="x"===d;let v;switch(o(e)){case"top":v={x:u,y:a.y-c.height};break;case"bottom":v={x:u,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:l};break;case"left":v={x:a.x-c.width,y:l};break;default:v={x:a.x,y:a.y}}switch(i(e)){case"start":v[d]-=p*(n&&h?-1:1);break;case"end":v[d]+=p*(n&&h?-1:1)}return v}function c(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function u(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function l(t,e){var n;void 0===e&&(e={});const{x:o,y:i,platform:r,rects:s,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:h=!1,padding:v=0}=e,g=c(v),m=a[h?"floating"===p?"reference":"floating":p],b=u(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(m)))||n?m:m.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(a.floating)),boundary:d,rootBoundary:f})),y=u(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===p?{...s.floating,x:o,y:i}:s.reference,offsetParent:await(null==r.getOffsetParent?void 0:r.getOffsetParent(a.floating)),strategy:l}):s[p]);return{top:b.top-y.top+g.top,bottom:y.bottom-b.bottom+g.bottom,left:b.left-y.left+g.left,right:y.right-b.right+g.right}}const d=Math.min,f=Math.max;function p(t,e,n){return f(t,d(e,n))}const h=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:o=0}=null!=t?t:{},{x:i,y:a,placement:u,rects:l,platform:d}=e;if(null==n)return{};const f=c(o),h={x:i,y:a},v=r(u),g=s(v),m=await d.getDimensions(n),b="y"===v?"top":"left",y="y"===v?"bottom":"right",w=l.reference[g]+l.reference[v]-h[v]-l.floating[g],x=h[v]-l.reference[v],_=await(null==d.getOffsetParent?void 0:d.getOffsetParent(n)),S=_?"y"===v?_.clientHeight||0:_.clientWidth||0:0,k=w/2-x/2,O=f[b],E=S-m[g]-f[y],T=S/2-m[g]/2+k,C=p(O,T,E);return{data:{[v]:C,centerOffset:T-C}}}}),v={left:"right",right:"left",bottom:"top",top:"bottom"};function g(t){return t.replace(/left|right|bottom|top/g,(t=>v[t]))}function m(t,e,n){void 0===n&&(n=!1);const o=i(t),a=r(t),c=s(a);let u="x"===a?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=g(u)),{main:u,cross:g(u)}}const b={start:"end",end:"start"};function y(t){return t.replace(/start|end/g,(t=>b[t]))}const w=["top","right","bottom","left"],x=w.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),_=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,s,a,c;const{x:u,y:d,rects:f,middlewareData:p,placement:h,platform:v,elements:g}=e,{alignment:b=null,allowedPlacements:w=x,autoAlignment:_=!0,...S}=t,k=function(t,e,n){return(t?[...n.filter((e=>i(e)===t)),...n.filter((e=>i(e)!==t))]:n.filter((t=>o(t)===t))).filter((n=>!t||i(n)===t||!!e&&y(n)!==n))}(b,_,w),O=await l(e,S),E=null!=(n=null==(r=p.autoPlacement)?void 0:r.index)?n:0,T=k[E],{main:C,cross:L}=m(T,f,await(null==v.isRTL?void 0:v.isRTL(g.floating)));if(h!==T)return{x:u,y:d,reset:{skip:!1,placement:k[0]}};const A=[O[o(T)],O[C],O[L]],D=[...null!=(s=null==(a=p.autoPlacement)?void 0:a.overflows)?s:[],{placement:T,overflows:A}],j=k[E+1];if(j)return{data:{index:E+1,overflows:D},reset:{skip:!1,placement:j}};const I=D.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),R=null==(c=I.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:c.placement;return{reset:{placement:null!=R?R:I[0].placement}}}}},S=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:i,middlewareData:r,rects:s,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",flipAlignment:v=!0,...b}=t,w=o(i),x=p||(w!==a&&v?function(t){const e=g(t);return[y(t),e,y(e)]}(a):[g(a)]),_=[a,...x],S=await l(e,b),k=[];let O=(null==(n=r.flip)?void 0:n.overflows)||[];if(d&&k.push(S[w]),f){const{main:t,cross:e}=m(i,s,await(null==c.isRTL?void 0:c.isRTL(u.floating)));k.push(S[t],S[e])}if(O=[...O,{placement:i,overflows:k}],!k.every((t=>t<=0))){var E,T;const t=(null!=(E=null==(T=r.flip)?void 0:T.index)?E:0)+1,e=_[t];if(e)return{data:{index:t,overflows:O},reset:{skip:!1,placement:e}};let n="bottom";switch(h){case"bestFit":{var C;const t=null==(C=O.slice().sort(((t,e)=>t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)-e.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)))[0])?void 0:C.placement;t&&(n=t);break}case"initialPlacement":n=a}return{reset:{placement:n}}}return{}}}};function k(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function O(t){return w.some((e=>t[e]>=0))}const E=function(t){let{strategy:e="referenceHidden",...n}=void 0===t?{}:t;return{name:"hide",async fn(t){const{rects:o}=t;switch(e){case"referenceHidden":{const e=k(await l(t,{...n,elementContext:"reference"}),o.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:O(e)}}}case"escaped":{const e=k(await l(t,{...n,altBoundary:!0}),o.floating);return{data:{escapedOffsets:e,escaped:O(e)}}}default:return{}}}}},T=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:s,placement:a,rects:c,platform:u,elements:l}=e,d=function(t,e,n,s){void 0===s&&(s=!1);const a=o(t),c=i(t),u="x"===r(t),l=["left","top"].includes(a)?-1:1;let d=1;"end"===c&&(d=-1),s&&u&&(d*=-1);const f="function"==typeof n?n({...e,placement:t}):n,{mainAxis:p,crossAxis:h}="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};return u?{x:h*d,y:p*l}:{x:p*l,y:h*d}}(a,c,t,await(null==u.isRTL?void 0:u.isRTL(l.floating)));return{x:n+d.x,y:s+d.y,data:d}}}},C=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:s,elements:a}=e,{apply:c,...u}=t,d=await l(e,u),p=o(n),h=i(n);let v,g;"top"===p||"bottom"===p?(v=p,g=h===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(g=p,v="end"===h?"top":"bottom");const m=f(d.left,0),b=f(d.right,0),y=f(d.top,0),w=f(d.bottom,0),x={height:r.floating.height-(["left","right"].includes(n)?2*(0!==y||0!==w?y+w:f(d.top,d.bottom)):d[v]),width:r.floating.width-(["top","bottom"].includes(n)?2*(0!==m||0!==b?m+b:f(d.left,d.right)):d[g])};return null==c||c({...x,...r}),{reset:{rects:!0}}}}};function L(t){return"[object Window]"===(null==t?void 0:t.toString())}function A(t){if(null==t)return window;if(!L(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function D(t){return A(t).getComputedStyle(t)}function j(t){return L(t)?"":t?(t.nodeName||"").toLowerCase():""}function I(t){return t instanceof A(t).HTMLElement}function R(t){return t instanceof A(t).Element}function P(t){return t instanceof A(t).ShadowRoot||t instanceof ShadowRoot}function z(t){const{overflow:e,overflowX:n,overflowY:o}=D(t);return/auto|scroll|overlay|hidden/.test(e+o+n)}function N(t){return["table","td","th"].includes(j(t))}function B(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=D(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}const H=Math.min,G=Math.max,M=Math.round;function F(t,e){void 0===e&&(e=!1);const n=t.getBoundingClientRect();let o=1,i=1;return e&&I(t)&&(o=t.offsetWidth>0&&M(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&M(n.height)/t.offsetHeight||1),{width:n.width/o,height:n.height/i,top:n.top/i,right:n.right/o,bottom:n.bottom/i,left:n.left/o,x:n.left/o,y:n.top/i}}function W(t){return(e=t,(e instanceof A(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function q(t){return L(t)?{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function U(t){return F(W(t)).left+q(t).scrollLeft}function V(t,e,n){const o=I(e),i=W(e),r=F(t,o&&function(t){const e=F(t);return M(e.width)!==t.offsetWidth||M(e.height)!==t.offsetHeight}(e));let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(o||!o&&"fixed"!==n)if(("body"!==j(e)||z(i))&&(s=q(e)),I(e)){const t=F(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}else i&&(a.x=U(i));return{x:r.left+s.scrollLeft-a.x,y:r.top+s.scrollTop-a.y,width:r.width,height:r.height}}function X(t){return"html"===j(t)?t:t.assignedSlot||t.parentNode||(P(t)?t.host:null)||W(t)}function $(t){return I(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function Y(t){const e=A(t);let n=$(t);for(;n&&N(n)&&"static"===getComputedStyle(n).position;)n=$(n);return n&&("html"===j(n)||"body"===j(n)&&"static"===getComputedStyle(n).position&&!B(n))?e:n||function(t){let e=X(t);for(P(e)&&(e=e.host);I(e)&&!["html","body"].includes(j(e));){if(B(e))return e;e=e.parentNode}return null}(t)||e}function J(t){if(I(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=F(t);return{width:e.width,height:e.height}}function K(t){return["html","body","#document"].includes(j(t))?t.ownerDocument.body:I(t)&&z(t)?t:K(X(t))}function Z(t,e){var n;void 0===e&&(e=[]);const o=K(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),r=A(o),s=i?[r].concat(r.visualViewport||[],z(o)?o:[]):o,a=e.concat(s);return i?a:a.concat(Z(X(s)))}function Q(t,e){return"viewport"===e?u(function(t){const e=A(t),n=W(t),o=e.visualViewport;let i=n.clientWidth,r=n.clientHeight,s=0,a=0;return o&&(i=o.width,r=o.height,Math.abs(e.innerWidth/o.scale-o.width)<.01&&(s=o.offsetLeft,a=o.offsetTop)),{width:i,height:r,x:s,y:a}}(t)):R(e)?function(t){const e=F(t),n=e.top+t.clientTop,o=e.left+t.clientLeft;return{top:n,left:o,x:o,y:n,right:o+t.clientWidth,bottom:n+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e):u(function(t){var e;const n=W(t),o=q(t),i=null==(e=t.ownerDocument)?void 0:e.body,r=G(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=G(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-o.scrollLeft+U(t);const c=-o.scrollTop;return"rtl"===D(i||n).direction&&(a+=G(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:s,x:a,y:c}}(W(t)))}function tt(t){const e=Z(X(t)),n=["absolute","fixed"].includes(D(t).position)&&I(t)?Y(t):t;return R(n)?e.filter((t=>R(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&P(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&"body"!==j(t))):[]}const et={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o}=t;const i=[..."clippingAncestors"===n?tt(e):[].concat(n),o],r=i[0],s=i.reduce(((t,n)=>{const o=Q(e,n);return t.top=G(o.top,t.top),t.right=H(o.right,t.right),t.bottom=H(o.bottom,t.bottom),t.left=G(o.left,t.left),t}),Q(e,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=I(n),r=W(n);if(n===r)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&"fixed"!==o)&&(("body"!==j(n)||z(r))&&(s=q(n)),I(n))){const t=F(n,!0);a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y}},isElement:R,getDimensions:J,getOffsetParent:Y,getDocumentElement:W,getElementRects:t=>{let{reference:e,floating:n,strategy:o}=t;return{reference:V(e,Y(n),o),floating:{...J(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===D(t).direction},nt=(t,e,n)=>(async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,c=await(null==s.isRTL?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:l,y:d}=a(u,o,c),f=o,p={};const h=new Set;for(let n=0;n<r.length;n++){const{name:v,fn:g}=r[n];if(h.has(v))continue;const{x:m,y:b,data:y,reset:w}=await g({x:l,y:d,initialPlacement:o,placement:f,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});l=null!=m?m:l,d=null!=b?b:d,p={...p,[v]:{...p[v],...y}},w&&("object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(u=!0===w.rects?await s.getElementRects({reference:t,floating:e,strategy:i}):w.rects),({x:l,y:d}=a(u,f,c)),!1!==w.skip&&h.add(v)),n=-1)}return{x:l,y:d,placement:f,strategy:i,middlewareData:p}})(t,e,{platform:et,...n});var ot={top:"bottom",right:"left",bottom:"top",left:"right"},it=function(e,i,s,a,c,u){return t.__awaiter(void 0,void 0,void 0,(function(){var d,f,v,g,m,b,y,w,x,k,O,L,A,D,j,I,R,P,z,N,B,H,G,M,F,W,q,U,V,X,$,Y,J,K,Z,Q;return t.__generator(this,(function(tt){switch(tt.label){case 0:return v=void 0!==(f=(d={}).toFlip)&&f,m=void 0===(g=d.toShift)||g,b=e.placement,y=e.hideOnReferenceHidden,w=e.offset,x=e.hideOnTooltipEscape,k=e.arrowSizeScale,O=e.resetPlacementOnUpdate,L=e.arrow,A=n(i),D=A.arrow,j=12*k,s?(I="auto"===b&&(c||O),R="auto"!==b&&v,P=m&&c,z={middleware:t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray([T({mainAxis:w[0],crossAxis:w[1]})],I?[_()]:[],!0),P?[(et={padding:16},void 0===et&&(et={}),{name:"shift",options:et,async fn(t){const{x:e,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:c={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...u}=et,d={x:e,y:n},f=await l(t,u),h=r(o(i)),v="x"===h?"y":"x";let g=d[h],m=d[v];if(s){const t="y"===h?"bottom":"right";g=p(g+f["y"===h?"top":"left"],g,g-f[t])}if(a){const t="y"===v?"bottom":"right";m=p(m+f["y"===v?"top":"left"],m,m-f[t])}const b=c.fn({...t,[h]:g,[v]:m});return{...b,data:{x:b.x-e,y:b.y-n}}}})]:[],!0),R?[S({fallbackPlacements:["right","left"],fallbackStrategy:"initialPlacement"})]:[],!0),L?[h({element:D,padding:2})]:[],!0),[C({apply:function(t){t.width,t.height,t.reference,t.floating}}),E()],!1)},"auto"!==b&&(z.placement=b),[4,nt(s,i,z)]):[2];case 1:switch(N=tt.sent(),B=N.x,H=N.y,G=N.placement,M=N.middlewareData,F=M.hide,W=F.referenceHidden,q=F.escaped,M.arrow&&(U=M.arrow.x,V=M.arrow.y),X=0!==M.arrow.centerOffset,$=y&&W||x&&q||a?"hidden":"visible",i.setAttribute("data-state",$),Object.assign(i.style,{visibility:$,left:B+"px",top:H+"px"}),Y=ot[G.split("-")[0]],J=0,K=0,Z=0,Z=null!==U?U+j+"px":"",Y){case"top":J=1/1.7,Z=null!==U?U+j*J+"px":"";break;case"bottom":J=.5,Z=null!==U?U+j*J+"px":"";break;case"left":J=.005,Z=null!==U?U+"px":"",K=null!==V?V-j*J/2+"px":"";break;case"right":J=1.2,Z=null!==U?U+"px":"",K=null!==V?V-j*J/2+"px":""}return K=null!==V?V-j*J/2+"px":"",K=null!==V?V+"px":"",Object.assign(D.style,((Q={visibility:X?"hidden":"visible",left:Z,top:K,right:"",bottom:""})[Y]="-"+j*J+"px",Q)),c?console.log("setting state after newlyShown"):console.log("setting state on update"),u({isShown:"visible"===$,fui:N}),[2,N]}var et}))}))},rt={allowHTML:!0,content:"",arrow:!0,transitionDuration:[300,250],offset:[10,0],hideOnClick:!0,onClickOutside:function(t,e){},onShow:function(t){},onHide:function(t){},onRemove:function(){},placement:"top",resetPlacementOnUpdate:!1,hideOnTooltipEscape:!0,hideOnReferenceHidden:!0,showOnCreate:!0,maxWidth:350,updateDebounce:100,zIndex:99999,arrowSizeScale:1,updateOnEvents:"resize scroll"};function st(t,e){return 0===e?t:function(o){clearTimeout(n),n=setTimeout((function(){t(o)}),e)};var n}function at(t,e,n){var o=e+"EventListener";["transitionend","webkitTransitionEnd","oTransitionEnd"].forEach((function(e){t[o](e,n)}))}var ct=function(){function o(t,e){var n,o=this;this.state={isShown:!1,isRemoved:!1,fui:void 0},this.toHideTooltip=!1,this.transitionDuration=0,this.clickHandler=function(t){o.state.isShown&&(o.tooltipElement.contains(t.target)||o.reference.contains(t.target)||o.props.onClickOutside&&o.props.onClickOutside(o,t),"target"===o.props.hideOnClick?t.target===o.reference&&o.hide():o.props.hideOnClick&&o.hide())},this.props=t,this.reference=e,window.tp=this,(n=document.createElement("style")).type="text/css",n.setAttribute("floating-ui-tooltip-default",""),n.textContent=".floating-ui-tooltip-root{--color:#fff;--border-color:#fefefe;--border-color:red;backface-visibility:hidden;background:var(--color);border-radius:6px;box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);display:flex;font-size:90%;line-height:0px;margin:0;max-width:calc(100vw - 10px);padding:0;position:absolute;transition-duration:.2s;transition-property:transform,visibility,opacity;transition-timing-function:cubic-bezier(.54,1.5,.38,1.11);z-index:9999}.floating-ui-tooltip-arrow{box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);height:14px;position:absolute;transform:translateX(-50%) rotate(45deg);width:14px;z-index:-1}.floating-ui-tooltip-box{border-radius:inherit;line-height:normal;margin:0;outline:0;position:relative}.floating-ui-tooltip-root[data-state=hidden]{opacity:0}.floating-ui-tooltip-root[data-state=visible]{opacity:1}.floating-ui-tooltip-content{background-color:#fff;border-radius:inherit;color:#111;padding:0;position:relative;z-index:2}.floating-ui-tooltip-arrow,.floating-ui-tooltip-root{background:var(--color)}",document.head.appendChild(n)}return o.prototype.hookEventListeners=function(){var t=this;this.debouncedUpdate=st(this.update.bind(this),this.props.updateDebounce),this.autoUpdateCleanup=function(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=!0,animationFrame:a=!1}=o;let c=!1;const u=i&&!a,l=r&&!a,d=s&&!a,f=u||l?[...R(t)?Z(t):[],...Z(e)]:[];f.forEach((t=>{u&&t.addEventListener("scroll",n,{passive:!0}),l&&t.addEventListener("resize",n)}));let p,h=null;d&&(h=new ResizeObserver(n),R(t)&&h.observe(t),h.observe(e));let v=a?F(t):null;return a&&function e(){if(c)return;const o=F(t);!v||o.x===v.x&&o.y===v.y&&o.width===v.width&&o.height===v.height||n(),v=o,p=requestAnimationFrame(e)}(),()=>{var t;c=!0,f.forEach((t=>{u&&t.removeEventListener("scroll",n),l&&t.removeEventListener("resize",n)})),null==(t=h)||t.disconnect(),h=null,a&&cancelAnimationFrame(p)}}(this.reference,this.tooltipElement,(function(){return t.debouncedUpdate(void 0)})),this.props.updateOnEvents.split(" ").forEach((function(e){window.addEventListener(e,(function(){return t.debouncedUpdate(void 0)}))})),window.addEventListener("click",this.clickHandler.bind(this))},o.prototype.updateTransitionDuration=function(t){this.transitionDuration=t,this.tooltipElement.style.transitionDuration=t+"ms"},o.prototype.create=function(){return t.__awaiter(this,void 0,void 0,(function(){var o,i,r,s,a;return t.__generator(this,(function(t){switch(t.label){case 0:return o=!this.props.showOnCreate,this.tooltipElement=(c=e(),u=e(),l=e(),d=e(),c.className="floating-ui-tooltip-root",u.className="floating-ui-tooltip-box",l.className="floating-ui-tooltip-content",d.className="floating-ui-tooltip-arrow",u.appendChild(l),u.appendChild(d),c.appendChild(u),l.innerHTML='\n    <div id="tooltip-container">\n    <h3>Default tooltip</h3>\n    </div>\n  ',u.setAttribute("role","tooltip"),c.setAttribute("data-state",""),Object.assign(c.style,{visibility:"hidden",left:"0px",top:"0px"}),c),this.updateTransitionDuration(this.props.transitionDuration[0]),i=n(this.tooltipElement).content,r=this.props,s=r.allowHTML,a=r.content,s?i.innerHTML=a:i.innerText=""+a,document.body.appendChild(this.tooltipElement),[4,it(this.props,this.tooltipElement,this.reference,o,!0,this.setState.bind(this))];case 1:return t.sent(),this.hookEventListeners(),[2]}var c,u,l,d}))}))},o.prototype.getState=function(){return this.state},o.prototype.setState=function(e){var n=this,o=void 0!==e.isShown&&e.isShown!==this.state.isShown;if(o&&e.isShown){var i=st(this.props.onShow,0);this.transitionDuration?function(t,e){function n(o){o.target===t&&(at(t,"remove",n),e(),console.log("transition end for event "+o))}at(t,"remove",n),at(t,"add",n)}(this.tooltipElement,(function(){i(n)})):i(this)}this.state=t.__assign(t.__assign({},this.state),e),o&&!e.isShown&&this.props.onHide(this)},o.prototype.update=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return e=e||this.toHideTooltip||!1,[4,it(this.props,this.tooltipElement,this.reference,e,!1,this.setState.bind(this))];case 1:return t.sent(),[2]}}))}))},o.prototype.hide=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return this.toHideTooltip=!0,[4,this.update(!0)];case 1:return t.sent(),this.updateTransitionDuration(this.props.transitionDuration[0]),[2]}}))}))},o.prototype.show=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return this.toHideTooltip=!1,[4,this.update(!1)];case 1:return t.sent(),this.updateTransitionDuration(this.props.transitionDuration[1]),[2]}}))}))},o.prototype.remove=function(){var t=this;this.tooltipElement.remove(),this.state={isShown:!1,isRemoved:!0,fui:void 0},this.autoUpdateCleanup(),window.removeEventListener("click",this.clickHandler.bind(this)),this.props.updateOnEvents.split(" ").forEach((function(e){window.removeEventListener(e,t.debouncedUpdate)})),this.props.onRemove()},o}();return function(e,n){return t.__awaiter(this,void 0,void 0,(function(){var o,i,r,s,a;return t.__generator(this,(function(c){switch(c.label){case 0:return o=n.placement||rt.placement,i=n.transitionDuration||rt.transitionDuration,r=n.offset||rt.offset,console.log(n.offset),Object.keys(n).forEach((function(t){return void 0===n[t]&&delete n[t]})),s=t.__assign(t.__assign(t.__assign({},rt),n),{placement:o,transitionDuration:i,offset:r}),[4,(a=new ct(s,e)).create()];case 1:return c.sent(),[2,{props:a.props,reference:a.reference,getState:a.getState.bind(a),show:a.show.bind(a),hide:a.hide.bind(a),remove:a.remove.bind(a),update:a.update.bind(a)}]}}))}))}}(i.default)}(ot);var it=ot.exports,rt=function(e){return t.__awaiter(void 0,void 0,void 0,(function(){var n,o,i,r,s,a,c,u;return t.__generator(this,(function(t){return n=e.target,o=e.content,i=e.arrow,r=e.offset,s=e.placement,a=e.onShow,c=e.onHide,u=e.onClickOutside,[2,it(n,{allowHTML:!0,zIndex:99999,hideOnClick:!1,onClickOutside:u,onShow:a,onHide:c,content:o,arrow:i,offset:r,placement:s,showOnCreate:!0})]}))}))},st=function(e){var n=e.data,o=e.target,i=e.styleProps,r=e.actions,s=e.uid,a=e.index,c=e.onShow,u=e.onHide;return t.__awaiter(void 0,void 0,void 0,(function(){var e,l,d,f,p,h,v,g,m;return t.__generator(this,(function(t){switch(t.label){case 0:return e=r.closeButton,l=r.navSection,d=n.arrow,f=n.placement,p=n.offset,h="\n    <style>\n      .tippy-box{\n        border-radius: 4px;\n        "+x(i)+'\n      }\n    </style>\n\n    <div class="lusift">\n      '+et()+'\n      <div class="tooltip" id="tooltip-'+s+'">\n        '+nt(e,"tooltip")+'\n        <section class="body-content">\n        </section>\n        '+function(t){var e=t.nextButton,n=t.prevButton,o=t.dismissLink;return"\n    <style>\n    .lusift .tooltip section.nav-buttons{\n      "+x(t.styleProps)+"\n    }\n    .lusift .tooltip .nav-buttons .next{\n      "+x(e.styleProps)+"\n    }\n    .lusift .tooltip .nav-buttons .prev{\n      "+x(n.styleProps)+'\n    }\n    </style>\n\n    <section class="nav-buttons">\n      '+(o.disabled?"":'\n        <button onclick="Lusift.close()" class="close dismiss-link">\n          skip this\n        </button>\n        ')+"\n      "+(n.disabled?"":'<button onclick="Lusift.prev()" class="prev lusift-button">Prev</button>')+"\n      "+(e.disabled?"":'<button onclick="Lusift.next()" class="next lusift-button">Next</button>')+"\n    </section>\n  "}(l)+"\n      </div>\n    <div>\n  ",[4,rt({target:o,content:h,arrow:d,offset:p,placement:f,remove:function(){},onShow:c,onHide:u})];case 1:return v=t.sent(),g=window.Lusift,m=g.content[g.activeGuide.id].data.steps[a].data.bodyContent||'\n  <h3 style="font-weight: bold;">Default title</h3>\n  <p style="font-weight: normal;">Default tooltip content</p>\n',g.render(m,".lusift > .tooltip > .body-content",(function(){v.update()})),[2,v]}}))}))},at={styleProps:{},closeButton:{styleProps:{},disabled:!1},navSection:{styleProps:{},nextButton:{text:"next",styleProps:{},disabled:!1},prevButton:{text:"prev",styleProps:{},disabled:!0},dismissLink:{text:"skip this",styleProps:{},disabled:!0}}},ct=function(t,e){var n=t.toString().substring(t.toString().indexOf(".")).length-1;-1==t.toString().indexOf(".")&&(n=0);var o=e.toString().substring(e.toString().indexOf(".")).length-1;-1==e.toString().indexOf(".")&&(o=0);var i=Math.min(n,o);return i>2&&(i=1),$(t,i)===$(e,i)};Object.fromEntries=function(e){return Object.assign.apply(Object,t.__spreadArray([{}],e.map((function(t){var e,n=t[0],o=t[1];return(e={})[n]=o,e})),!1))};var ut=function(){function e(t){var e=t.targetSelector,n=t.guideID,o=t.index,i=t.data;this.timers=[],this.overlaySelectorClass="lusift-backdrop-overlay",this.data={stageGap:5,opacity:"0.5",color:"#444"},this.toStopOverlay=!1,this.resizeObservers=[];var r,s=_({guideID:n,index:o,type:"backdrop"});this.stagedTargetClass=s+"__target",this.data=Object.assign({},this.data,(r=i,Object.fromEntries(Object.entries(r).filter((function(t){return t[0],void 0!==t[1]}))))),this.targetSelector=e,this.createOverlay(),this.focusTrap=Bt({target:[".lusift > .tooltip",this.targetSelector],escToClose:!1,clickOutsideToClose:!1}),this.resetBackdrop=this.resetBackdrop.bind(this),this.resizeObservers.push(U(c.document.querySelector("."+this.overlaySelectorClass),this.resetBackdrop)),this.resizeObservers.push(U(c.document.body,this.resetBackdrop))}return e.prototype.resetBackdrop=function(){var t=this,e=this.timers.length,n=c.window.setTimeout((function(){if(t.toStopOverlay)return d("Lusift: This overlay instance should be removed");t.removeOverlay(),t.createOverlay(),t.timers=t.timers.filter((function(t){return t.id!==e}))}),300);this.timers.push({id:e,object:n})},e.prototype.getDocumentDimensions=function(){var t=V(c.document.documentElement),e=t.height,n=t.width;return{documentWidth:Math.max(n,c.document.body.scrollWidth,c.document.documentElement.scrollWidth,c.document.body.offsetWidth,c.document.documentElement.offsetWidth),documentHeight:Math.max(e,c.document.body.scrollHeight,c.document.documentElement.scrollHeight,c.document.body.offsetHeight,c.document.documentElement.offsetHeight)}},e.prototype.createOverlay=function(){var e=this,n=c.document.querySelector(this.targetSelector),o=this.data.stageGap,i=this.getDocumentDimensions(),r=i.documentHeight,s=i.documentWidth,a=V(n),u=c.document.createElement("div");u.id="hTop";var l=c.document.createElement("div");l.id="hBottom";var d=c.document.createElement("div");d.id="vLeft";var f=c.document.createElement("div");f.id="vRight";var p={opacity:"0.5",background:"#444",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:998,border:"1px solid transparent"};u.style.cssText=x(t.__assign(t.__assign({},p),{height:a.bottom-a.height-o+"px",width:a.right-a.left+2*o+"px",left:a.left-o+"px",bottom:a.top-o+"px"})),l.style.cssText=x(t.__assign(t.__assign({},p),{height:r-(a.top+a.height+o)+"px",width:a.right-a.left+2*o+"px",left:a.left-o+"px",top:a.bottom+o+"px"})),d.style.cssText=x(t.__assign(t.__assign({},p),{width:a.left-o+"px",height:r+"px",right:a.left-o+"px"})),f.style.cssText=x(t.__assign(t.__assign({},p),{width:s-(a.left+a.width)-o+"px",height:r+"px",left:a.right+o+"px"})),[u,l,d,f].forEach((function(t){t.classList.add(e.overlaySelectorClass),c.document.body.appendChild(t)})),n.classList.add(this.stagedTargetClass);var h=V(u),v=h.height,g=h.width,m=V(l).height,b=g+V(d).width+V(f).width,y=v+m+a.height+2*o;ct(s,b)&&ct(r,y)||this.resetBackdrop()},e.prototype.removeOverlay=function(){c.document.querySelectorAll("."+this.overlaySelectorClass).forEach((function(t){t&&t.remove()}));var t=c.document.querySelector(this.targetSelector);t&&t.classList.remove(this.stagedTargetClass)},e.prototype.remove=function(){this.timers=this.timers.filter((function(t){var e=t.object;return c.window.clearTimeout(e)})),this.toStopOverlay=!0,this.resizeObservers=this.resizeObservers.filter((function(t){return t.disconnect()})),this.focusTrap&&this.focusTrap.deactivate(),this.removeOverlay()},e}(),lt={disabled:!1,color:"#444",opacity:"0.5",stageGap:5,nextOnOverlayClick:!1},dt=[12,0],ft=function(){function e(e){var n=e.target,o=e.guideID,i=e.index,r=e.data,s=e.actions,a=e.styleProps;this.actions=at,this.styleProps={},this.targetsAndEventListeners=[],this.isTooltipShown=!1,u("%c Tooltip constructor! ","background: #222; color: #bada55"),this.target=n;var l=n.elementSelector;this.styleProps=a||{},this.data=r,this.index=i;var d=r.progressOn||{};this.data.progressOn=t.__assign({eventType:"click",elementSelector:l},d);var f=r.backdrop||{};this.data.backdrop=t.__assign(t.__assign({},lt),f),this.data.offset=this.data.offset||dt,this.data.backdrop.disabled||(this.data.offset[0]=this.data.offset[0]+this.data.backdrop.stageGap),this.consolidateActions(s),this.uid=_({guideID:o,index:i,type:"tooltip"}),this.guideID=o,this.targetElement=c.document.querySelector(l),this.show(),u("tooltip started")}return e.prototype.hide=function(){this.fuitInstance.hide(),this.removeAllEventListeners(),this.backdropInstance&&this.backdropInstance.remove(),this.backdropInstance=null,this.isTooltipShown=!1},e.prototype.consolidateActions=function(t){this.actions=w(this.actions,t)},e.prototype.addBackdrop=function(){var t=this,e=this.data.backdrop,n={stageGap:e.stageGap,opacity:e.opacity,color:e.color};this.backdropInstance=new ut({targetSelector:this.target.elementSelector,guideID:this.guideID,index:this.index,data:n}),this.data.backdrop.nextOnOverlayClick&&Array.from(c.document.getElementsByClassName(this.backdropInstance.overlaySelectorClass)).forEach((function(e){t.addEventListenerToTarget(e,"next")}))},e.prototype.show=function(){return t.__awaiter(this,void 0,void 0,(function(){var e,n,o,i,r,s,a,c,u,l,f,p,h=this;return t.__generator(this,(function(t){switch(t.label){case 0:return this.targetElement?this.isTooltipShown?[2,d("Tooltip is already displayed")]:(e=this.data,n=e.progressOn,o=e.backdrop,r=(i=n).eventType,i.disabled||this.addEventListenerToTarget(this.targetElement,"next",r),this.fuitInstance?[3,2]:(a=(s=this).uid,c=s.actions,u=s.styleProps,l=s.data,f=s.index,p=this,[4,st({uid:a,target:this.targetElement,actions:c,styleProps:u,data:l,index:f,onShow:function(t){o.disabled||h.addBackdrop.bind(h)(),h.isTooltipShown=!0},onHide:function(t){o.disabled||(h.backdropInstance&&h.backdropInstance.remove(),h.backdropInstance=null,h.isTooltipShown=!1)}})])):[2,d("Error: target element not found")];case 1:return p.fuitInstance=t.sent(),[3,3];case 2:this.fuitInstance.show(),t.label=3;case 3:return[2]}}))}))},e.prototype.remove=function(){if(!this.isTooltipShown)return d("Attempted to remove but tooltip is not shown");u("removing tooltip "+this.uid),this.removeAllEventListeners(),this.backdropInstance&&this.backdropInstance.remove(),this.fuitInstance.remove(),this.fuitInstance=null,this.isTooltipShown=!1},e.prototype.getListenerFromMethod=function(t){switch(t){case"next":return c.window.Lusift.next;case"prev":return c.window.Lusift.prev;case"close":return this.remove;default:return function(){}}},e.prototype.addEventListenerToTarget=function(t,e,n){void 0===e&&(e="next"),void 0===n&&(n="click"),t.addEventListener(n,this.getListenerFromMethod(e)),this.targetsAndEventListeners.push({method:e,target:t,eventType:n})},e.prototype.removeAllEventListeners=function(){var t=this;this.targetsAndEventListeners.forEach((function(e){var n=e.method,o=e.target,i=e.eventType;o.removeEventListener(i,t.getListenerFromMethod(n)),u("remove event listener of type "+i+" and method "+n)})),this.targetsAndEventListeners=[]},e}(),pt=function(){function e(t){var e=t.index,n=t.guideID,o=t.data,i=t.closeButton;this.data={},this.uid=_({guideID:n,type:"modal",index:e}),this.data=o||{},this.index=e,this.closeButton=i,this.addModal();var r=this.data,s=r.escToClose,a=r.clickOutsideToClose;(this.focusTrap=Bt({target:".modal",escToClose:s,clickOutsideToClose:a}),s&&c.window.addEventListener("keydown",this.escEventListener,!0),a)&&c.document.querySelector(".lusift-modal-overlay").addEventListener("click",this.overlayClickEventListener,!0)}return e.prototype.escEventListener=function(t){"Escape"!=t.key&&"Esc"!=t.key&&27!=t.keyCode||"BODY"!=t.target.nodeName||c.window.Lusift.close()},e.prototype.overlayClickEventListener=function(t){t.target.classList.contains("modal")||c.window.Lusift.close()},e.prototype.addModal=function(){this.data.bodyContent,function(e){var n=e.uid,o=e.index,i=e.closeButton,r=void 0===i?{}:i,s=c.document.createElement("div"),a=c.document.createElement("div");a.id=n,s.classList.add(K),s.style.cssText=x(t.__assign({position:"absolute",background:"#444",display:"flex",justifyContent:"center",alignItems:"center",opacity:"0.5",top:"0",left:"0",bottom:"0",right:"0",zIndex:"99998"},{})),a.style.cssText=x(t.__assign({borderRadius:Q},{})),a.classList.add("modal"),a.innerHTML="\n    "+et()+"\n    "+nt(r,"modal")+'\n    <section class="body-content">\n    </section>\n  ';var u=c.document.createElement("div");u.classList.add("lusift"),u.appendChild(a),c.document.body.appendChild(s),c.document.body.appendChild(u);var l=window.Lusift,d=l.content[l.activeGuide.id].data.steps[o].data.bodyContent||'\n    <style>\n    .modal .body-content {\n      max-height: 500px;\n      width: 600px;\n      display: flex;\n      flex-direction: column;\n    }\n    h2{\n      font-weight: bold;\n      font-size: 1.5rem;\n    }\n    .button-area{\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin: 2rem 0;\n    }\n    </style>\n    <h2>Default Modal Content</h2>\n    <div class="button-area">\n      <button class="button" onclick="Lusift.next()">\n        Next\n      </button>\n    </div>';l.render(d,".lusift > .modal > .body-content")}({uid:this.uid,index:this.index,closeButton:this.closeButton})},e.prototype.remove=function(){var t=c.document.querySelector(".lusift-modal-overlay");c.document.getElementById(this.uid).remove(),this.focusTrap.deactivate(),this.data.escToClose&&c.window.removeEventListener("keydown",this.escEventListener,!0),this.data.clickOutsideToClose&&t.removeEventListener("click",this.overlayClickEventListener,!0),t.remove()},e}(),ht=function(e){e.remove;var n=e.data,o=e.target,i=e.styleProps,r=e.uid,s=e.index,a=e.onClickOutside;return t.__awaiter(void 0,void 0,void 0,(function(){var e,c,u,l,d,f,p;return t.__generator(this,(function(t){switch(t.label){case 0:return e=n.arrow,c=n.placement,u=n.offset,l="\n    <style>\n      .tippy-box{\n        z-index: 999999;\n        border-radius: 4px;\n        "+x(i)+"\n      }\n    </style>\n\n    "+et()+'\n    <div class="lusift">\n      <div class="hotspot-tooltip" id="tooltip-'+r+'">\n        <section class="body-content">\n        </section>\n      </div>\n    </div>\n  ',[4,rt({target:o,content:l,arrow:e,offset:u,placement:c,onClickOutside:a,remove:function(){}})];case 1:return d=t.sent(),f=window.Lusift,p=f.content[f.activeGuide.id].data.steps[s].tip.data.bodyContent||'\n  <h3 style="font-weight: bold;">Default title</h3>\n  <p style="font-weight: normal;">Default tooltip content</p>\n',f.render(p,".lusift > .hotspot-tooltip > .body-content",(function(){d.update()})),[2,d]}}))}))},vt=function(){function e(t){var e=t.data,n=t.guideID;this.resizeObservers=[],u(e),this.data=e;var o=e.index,i=e.type,r=e.target;this.tipID=_({guideID:n,type:i,index:o}),this.beaconID=_({guideID:n,type:"beacon",index:o}),this.targetElement=c.document.querySelector(r.elementSelector),this.addBeacon(),this.resizeObservers.push(U(c.document.body,this.repositionBeacon.bind(this))),this.resizeObservers.push(U(this.targetElement,this.repositionBeacon.bind(this)))}return e.prototype.repositionBeacon=function(){this.remove(),this.fuitInstance=null,this.addBeacon(),u("reset beacon position")},e.prototype.addBeacon=function(){u("adding beacon");var e=V(this.targetElement);!function(e){var n=e.targetPosition,o=e.beaconData,i=e.beaconID,r=e.toggleTooltip,s=n.targetTop,a=n.targetLeft,u=n.targetHeight,l=n.targetWidth,d=c.document.createElement("div");d.style.cssText=x({position:"absolute",top:s+"px",left:a+"px"}),d.classList.add("lusift-beacon-container");var f=o.placement,p=o.size,h=o.color;o.type;var v=f.top,g=f.left;d.innerHTML="\n  <style>\n    #"+i+" {\n      background-color: "+(h||"#b9f")+";\n      border-radius: 50%;\n      position: absolute;\n      pointer-events: auto;\n      width: "+13*p+"px;\n      height: "+13*p+"px;\n\n      \n      -webkit-animation: shine 2s ease-in-out infinite;\n      animation: shine 2s ease-in-out infinite;\n        \n      cursor: pointer;\n      -webkit-animation-delay: 1s;\n      animation-delay: 1s;\n      top: "+v/100*u+"px;\n      left: "+g/100*l+"px;\n    }\n\n\n    @-webkit-keyframes shine {\n      0%, 20% {\n        box-shadow: 0px 0px 0px 0px rgba(187, 153, 255, 0.49);\n      }\n      100% {\n        box-shadow: 0px 0px 0px "+20*p+"px rgba(0, 0, 0, 0);\n      }\n    }\n\n    @keyframes shine {\n      0%, 20% {\n        box-shadow: 0px 0px 0px 0px rgba(187, 153, 255, 0.49);\n      }\n      100% {\n        box-shadow: 0px 0px 0px "+20*p+'px rgba(0, 0, 0, 0);\n      }\n    }\n  }\n  </style>\n  <div class="lusift-beacon" id="'+i+'"></div>\n',c.document.body.appendChild(d);var m=c.document.getElementById(i),b=c.document.createElement("div");b.id=i+"-er";var y=V(m),w=y.width,_=y.height;b.style.cssText=x(t.__assign(t.__assign({},m.style),{width:w+"px",height:_+"px",background:"transparent",zIndex:"394490"})),m.appendChild(b),b.addEventListener("click",r)}({targetPosition:{targetTop:e.top,targetLeft:e.left,targetWidth:e.width,targetHeight:e.height},beaconData:this.data.beacon,beaconID:this.beaconID,toggleTooltip:this.toggleTooltip.bind(this)})},e.prototype.toggleTooltip=function(){return t.__awaiter(this,void 0,void 0,(function(){var e,n,o,i,r,s,a,u,l;return t.__generator(this,(function(t){switch(t.label){case 0:return e=c.document.getElementById(this.beaconID),n=this.data.tip,o=n.data,i=n.styleProps,r=c.window.Lusift.activeHotspot,s=c.window.Lusift,r&&this.data.index!==r.data.index&&s.activeHotspot.hideTooltip(),a=!Boolean(s.activeGuide),u=a?s.close:this.removeAndCloseAsync.bind(this),this.fuitInstance?[3,2]:(l=this,[4,ht({remove:u,uid:this.tipID,index:this.data.index,target:e,styleProps:i,data:o,onClickOutside:function(t,e){u()}})]);case 1:return l.fuitInstance=t.sent(),s.activeHotspot=this,[3,7];case 2:return this.fuitInstance.getState().isRemoved?(d("Uh... but it doesn't exist. unexpected"),[3,7]):[3,3];case 3:return this.fuitInstance.getState().isShown?[4,this.hideTooltip()]:[3,5];case 4:return t.sent(),[3,7];case 5:return this.fuitInstance?[4,this.fuitInstance.show()]:[3,7];case 6:t.sent(),s.activeHotspot=this,t.label=7;case 7:return[2]}}))}))},e.prototype.hideTooltip=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fuitInstance.hide()];case 1:return t.sent(),c.window.Lusift.activeHotspot=null,[2]}}))}))},e.prototype.changeAsyncStepStatus=function(t){this.data.async&&X(this.data.index,t)},e.prototype.remove=function(){u("Removing id: "+this.data.index+" hotspot"),this.fuitInstance?(this.fuitInstance.getState().isRemoved&&u("Hotspot's tooltip is already destroyed"),this.fuitInstance.remove()):u("Hotspot closed without ever opening");var t=c.document.getElementById(this.beaconID);t&&(t.parentElement.remove(),c.window.Lusift.activeHotspot=null)},e.prototype.removeResizeObservers=function(){this.resizeObservers.forEach((function(t){return t.disconnect()}))},e.prototype.removeAndCloseAsync=function(){this.remove(),this.changeAsyncStepStatus(!1),this.removeResizeObservers()},e}(),gt=function(t,e){var n,o=t.index,i=t.target,r=t.type,s=t.data,a=t.closeButton;if("tooltip"===r){var c=t.actions,u=t.styleProps;n=new ft({target:i,data:s,index:o,guideID:e,actions:c,styleProps:u})}else"modal"===r?n=new pt({index:o,guideID:e,data:s,closeButton:a}):"hotspot"===r&&(n=new vt({data:t,guideID:e}));return n},mt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],bt=mt.join(","),yt="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,wt=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?function(t){return"true"===t.contentEditable}(t)?0:"AUDIO"!==t.nodeName&&"VIDEO"!==t.nodeName&&"DETAILS"!==t.nodeName||null!==t.getAttribute("tabindex")?t.tabIndex:0:e},xt=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},_t=function(t){return"INPUT"===t.tagName},St=function(t){return function(t){return _t(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||t.ownerDocument,o=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=o(window.CSS.escape(t.name));else try{e=o(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var i=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!i||i===t}(t)},kt=function(t,e){return!(e.disabled||function(t){return _t(t)&&"hidden"===t.type}(e)||function(t,e){if("hidden"===getComputedStyle(t).visibility)return!0;var n=yt.call(t,"details>summary:first-of-type")?t.parentElement:t;if(yt.call(n,"details:not([open]) *"))return!0;if(e&&"full"!==e){if("non-zero-area"===e){var o=t.getBoundingClientRect(),i=o.width,r=o.height;return 0===i&&0===r}}else for(;t;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}(e,t.displayCheck)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(_t(t)||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||"BUTTON"===t.tagName)for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var o=e.children.item(n);if("LEGEND"===o.tagName)return!o.contains(t)}return!0}e=e.parentElement}return!1}(e))},Ot=function(t,e){return!(!kt(t,e)||St(e)||wt(e)<0)},Et=function(t,e){var n=[],o=[],i=function(t,e,n){var o=Array.prototype.slice.apply(t.querySelectorAll(bt));return e&&yt.call(t,bt)&&o.unshift(t),o.filter(n)}(t,(e=e||{}).includeContainer,Ot.bind(null,e));return i.forEach((function(t,e){var i=wt(t);0===i?n.push(t):o.push({documentOrder:e,tabIndex:i,node:t})})),o.sort(xt).map((function(t){return t.node})).concat(n)},Tt=mt.concat("iframe").join(","),Ct=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==yt.call(t,Tt)&&kt(e,t)};
/*!
  * focus-trap 6.7.1
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  */
function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function At(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dt,jt=(Dt=[],{activateTrap:function(t){if(Dt.length>0){var e=Dt[Dt.length-1];e!==t&&e.pause()}var n=Dt.indexOf(t);-1===n||Dt.splice(n,1),Dt.push(t)},deactivateTrap:function(t){var e=Dt.indexOf(t);-1!==e&&Dt.splice(e,1),Dt.length>0&&Dt[Dt.length-1].unpause()}}),It=function(t){return setTimeout(t,0)},Rt=function(t,e){var n=-1;return t.every((function(t,o){return!e(t)||(n=o,!1)})),n},Pt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return"function"==typeof t?t.apply(void 0,n):t},zt=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},Nt=function(t,e){var n,o=(null==e?void 0:e.document)||document,i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach((function(e){At(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),r={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s=function(t,e,n){return t&&void 0!==t[e]?t[e]:i[n||e]},a=function(t){return!(!t||!r.containers.some((function(e){return e.contains(t)})))},c=function(t){var e=i[t];if("function"==typeof e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];e=e.apply(void 0,r)}if(!e){if(void 0===e||!1===e)return e;throw new Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var a=e;if("string"==typeof e&&!(a=o.querySelector(e)))throw new Error("`".concat(t,"` as selector refers to no known node"));return a},u=function(){var t=c("initialFocus");if(!1===t)return!1;if(void 0===t)if(a(o.activeElement))t=o.activeElement;else{var e=r.tabbableGroups[0];t=e&&e.firstTabbableNode||c("fallbackFocus")}if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t},l=function(){if(r.tabbableGroups=r.containers.map((function(t){var e=Et(t);if(e.length>0)return{container:t,firstTabbableNode:e[0],lastTabbableNode:e[e.length-1]}})).filter((function(t){return!!t})),r.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function t(e){!1!==e&&e!==o.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!i.preventScroll}),r.mostRecentlyFocusedNode=e,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(e)&&e.select()):t(u()))},f=function(t){var e=c("setReturnFocus",t);return e||!1!==e&&t},p=function(t){var e=zt(t);a(e)||(Pt(i.clickOutsideDeactivates,t)?n.deactivate({returnFocus:i.returnFocusOnDeactivate&&!Ct(e)}):Pt(i.allowOutsideClick,t)||t.preventDefault())},h=function(t){var e=zt(t),n=a(e);n||e instanceof Document?n&&(r.mostRecentlyFocusedNode=e):(t.stopImmediatePropagation(),d(r.mostRecentlyFocusedNode||u()))},v=function(t){if(function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}(t)&&!1!==Pt(i.escapeDeactivates,t))return t.preventDefault(),void n.deactivate();(function(t){return"Tab"===t.key||9===t.keyCode})(t)&&function(t){var e=zt(t);l();var n=null;if(r.tabbableGroups.length>0){var o=Rt(r.tabbableGroups,(function(t){return t.container.contains(e)}));if(o<0)n=t.shiftKey?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(t.shiftKey){var i=Rt(r.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e===n}));if(i<0&&r.tabbableGroups[o].container===e&&(i=o),i>=0){var s=0===i?r.tabbableGroups.length-1:i-1;n=r.tabbableGroups[s].lastTabbableNode}}else{var a=Rt(r.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e===n}));if(a<0&&r.tabbableGroups[o].container===e&&(a=o),a>=0){var u=a===r.tabbableGroups.length-1?0:a+1;n=r.tabbableGroups[u].firstTabbableNode}}}else n=c("fallbackFocus");n&&(t.preventDefault(),d(n))}(t)},g=function(t){if(!Pt(i.clickOutsideDeactivates,t)){var e=zt(t);a(e)||Pt(i.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())}},m=function(){if(r.active)return jt.activateTrap(n),r.delayInitialFocusTimer=i.delayInitialFocus?It((function(){d(u())})):d(u()),o.addEventListener("focusin",h,!0),o.addEventListener("mousedown",p,{capture:!0,passive:!1}),o.addEventListener("touchstart",p,{capture:!0,passive:!1}),o.addEventListener("click",g,{capture:!0,passive:!1}),o.addEventListener("keydown",v,{capture:!0,passive:!1}),n},b=function(){if(r.active)return o.removeEventListener("focusin",h,!0),o.removeEventListener("mousedown",p,!0),o.removeEventListener("touchstart",p,!0),o.removeEventListener("click",g,!0),o.removeEventListener("keydown",v,!0),n};return(n={activate:function(t){if(r.active)return this;var e=s(t,"onActivate"),n=s(t,"onPostActivate"),i=s(t,"checkCanFocusTrap");i||l(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=o.activeElement,e&&e();var a=function(){i&&l(),m(),n&&n()};return i?(i(r.containers.concat()).then(a,a),this):(a(),this)},deactivate:function(t){if(!r.active)return this;clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,b(),r.active=!1,r.paused=!1,jt.deactivateTrap(n);var e=s(t,"onDeactivate"),o=s(t,"onPostDeactivate"),i=s(t,"checkCanReturnFocus");e&&e();var a=s(t,"returnFocus","returnFocusOnDeactivate"),c=function(){It((function(){a&&d(f(r.nodeFocusedBeforeActivation)),o&&o()}))};return a&&i?(i(f(r.nodeFocusedBeforeActivation)).then(c,c),this):(c(),this)},pause:function(){return r.paused||!r.active||(r.paused=!0,b()),this},unpause:function(){return r.paused&&r.active?(r.paused=!1,l(),m(),this):this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return r.containers=e.map((function(t){return"string"==typeof t?o.querySelector(t):t})),r.active&&l(),this}}).updateContainerElements(t),n},Bt=function(t){var e=t.target,n=t.escToClose,o=t.clickOutsideToClose,i=!c.window.Lusift.activeGuideID,r=Nt(e,{escapeDeactivates:!i&&n,clickOutsideDeactivates:!i&&o});return r.activate(),r},Ht=function(){function e(t){this.activeSteps=[],u("guide constructor"),u(f());var e=f()[t],n=Object.assign({},e);if(delete n.trackingState,this.guideData=n,u("%c Welcome to guide: "+(this.guideData.name||this.guideData.id),"background: #222; color: #bada55"),!e.trackingState){var o=this.generateNewTrackingState();this.setTrackingState(o)}}return e.prototype.generateNewTrackingState=function(){var t={currentStepIndex:0,finished:!1,prematurelyClosed:!1,asyncSteps:{},enabled:!1};return this.guideData.steps.forEach((function(e){"async"in e&&e.async&&"hotspot"===e.type&&(t.asyncSteps[e.index]={toOpen:!1})})),t},e.prototype.start=function(){var t=this.getTrackingState(),e=t.finished,n=t.prematurelyClosed;this.removeIllegalSteps(),this.attemptToStartAsyncSteps(),e||n?d("Guide is already finished or closed"):this.attemptToShowActiveStep()},e.prototype.removeAllActiveSteps=function(){this.activeSteps.forEach((function(t){var e=t.type;t.target;var n=t.instance;t.async&&"hotspot"===e&&n.removeResizeObservers(),n.remove()})),this.activeSteps=[]},e.prototype.reRenderStepElements=function(){u("re-render step elements"),this.removeAllActiveSteps(),this.start()},e.prototype.attemptToShowActiveStep=function(){var t,e=this.getTrackingState().currentStepIndex,n=this.guideData.steps;e--;do{var o=n[++e],i=n[e],r=i.target,s=i.type,a=!1;"async"in o&&(a=o.async);var c=J({target:r,type:s});(t=a&&"hotspot"===s)&&X(e,!0),c&&!this.isStepAlreadyActive(e)&&this.activeSteps.push({index:e,instance:gt(n[e],this.guideData.id),target:r,type:s,async:a})}while(t);var u=this.getTrackingState();u.currentStepIndex=e,this.setTrackingState(u)},e.prototype.isStepAlreadyActive=function(t){return this.activeSteps.some((function(e){return e.index===t}))},e.prototype.attemptToStartAsyncSteps=function(){var t=this,e=this.guideData.steps;e.forEach((function(n){var o=n.type,i=n.index,r=n.target,s=!1;if("async"in n&&(s=n.async),s&&"hotspot"===o&&J({target:r,type:o})&&t.getTrackingState().asyncSteps[i].toOpen){if(u("Step "+i+": target path and element matched. toOpen is true"),t.isStepAlreadyActive(i))return l("Step "+i+" is already active");t.activeSteps.push({index:i,instance:gt(e[i],t.guideData.id),target:r,type:o,async:s})}}))},e.prototype.removeIllegalSteps=function(){this.activeSteps=this.activeSteps.filter((function(t){var e=t.type,n=t.target,o=t.instance,i=t.async;return!!J({target:n,type:e})||(i&&"hotspot"===e&&o.removeResizeObservers(),o.remove(),!1)}))},e.prototype.setTrackingState=function(e){var n,o=f();p(t.__assign(t.__assign({},o),((n={})[this.guideData.id]=t.__assign(t.__assign({},o[this.guideData.id]),{trackingState:e}),n)))},e.prototype.getTrackingState=function(){return f()[this.guideData.id].trackingState},e.prototype.clearTrackingState=function(){this.setTrackingState(void 0)},e.prototype.setStep=function(t){var e=this.getTrackingState();if(t<0)return l("Step index can't be less than 0");t+1>this.guideData.steps.length?(e.finished=!0,this.setTrackingState(e),u("guide finished")):(e.currentStepIndex=t,this.setTrackingState(e),this.start())},e.prototype.close=function(){var t=this.getTrackingState();t.currentStepIndex+1===this.guideData.steps.length?t.finished=!0:t.prematurelyClosed=!0,this.setTrackingState(t),this.removeAllActiveSteps(),c.window.Lusift.activeGuide=null,u("guide closed"),"function"==typeof c.window.Lusift.onClose&&c.window.Lusift.onClose(),c.window.Lusift.disable(this.guideData.id)},e.prototype.closeCurrentStep=function(){var t=this.getTrackingState().currentStepIndex,e=this.activeSteps.find((function(e){return e.index===t}));e?(e.instance.remove(),this.activeSteps=this.activeSteps.filter((function(e){return e.index!==t}))):l("There's no active step to close")},e.prototype.nextStep=function(){var t=this.getTrackingState().currentStepIndex+1;if(t+1>this.guideData.steps.length)return d("No new steps");this.closeCurrentStep(),this.setStep(t),"function"==typeof c.window.Lusift.onNext&&c.window.Lusift.onNext()},e.prototype.prevStep=function(){for(var t=this.getTrackingState().currentStepIndex;t>-2;){t--;var e=this.guideData.steps[t];if(!e)break;var n=!1;if("async"in e&&(n=e.async),!("hotspot"===e.type&&n))break}if(t<0)return d("No previous steps");this.closeCurrentStep(),this.setStep(t);var o=c.window.Lusift;"function"==typeof o.onPrev&&o.onPrev()},e}(),Gt={exports:{}};!function(t,e){var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",r="[object Array]",s="[object Boolean]",c="[object Date]",u="[object Error]",l="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object Promise]",v="[object RegExp]",g="[object Set]",m="[object String]",b="[object Symbol]",y="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",_=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[i]=k[r]=k[w]=k[s]=k[x]=k[c]=k[u]=k[l]=k[d]=k[f]=k[p]=k[v]=k[g]=k[m]=k[y]=!1;var O="object"==typeof a&&a&&a.Object===Object&&a,E="object"==typeof self&&self&&self.Object===Object&&self,T=O||E||Function("return this")(),C=e&&!e.nodeType&&e,L=C&&t&&!t.nodeType&&t,A=L&&L.exports===C,D=A&&O.process,j=function(){try{return D&&D.binding&&D.binding("util")}catch(t){}}(),I=j&&j.isTypedArray;function R(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function P(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n}function z(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var N,B,H,G=Array.prototype,M=Function.prototype,F=Object.prototype,W=T["__core-js_shared__"],q=M.toString,U=F.hasOwnProperty,V=(N=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",X=F.toString,$=RegExp("^"+q.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=A?T.Buffer:void 0,J=T.Symbol,K=T.Uint8Array,Z=F.propertyIsEnumerable,Q=G.splice,tt=J?J.toStringTag:void 0,et=Object.getOwnPropertySymbols,nt=Y?Y.isBuffer:void 0,ot=(B=Object.keys,H=Object,function(t){return B(H(t))}),it=jt(T,"DataView"),rt=jt(T,"Map"),st=jt(T,"Promise"),at=jt(T,"Set"),ct=jt(T,"WeakMap"),ut=jt(Object,"create"),lt=zt(it),dt=zt(rt),ft=zt(st),pt=zt(at),ht=zt(ct),vt=J?J.prototype:void 0,gt=vt?vt.valueOf:void 0;function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new yt;++e<n;)this.add(t[e])}function xt(t){var e=this.__data__=new bt(t);this.size=e.size}function _t(t,e){var n=Ht(t),o=!n&&Bt(t),i=!n&&!o&&Gt(t),r=!n&&!o&&!i&&Ut(t),s=n||o||i||r,a=s?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],c=a.length;for(var u in t)!e&&!U.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pt(u,c))||a.push(u);return a}function St(t,e){for(var n=t.length;n--;)if(Nt(t[n][0],e))return n;return-1}function kt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":tt&&tt in Object(t)?function(t){var e=U.call(t,tt),n=t[tt];try{t[tt]=void 0;var o=!0}catch(t){}var i=X.call(t);o&&(e?t[tt]=n:delete t[tt]);return i}(t):function(t){return X.call(t)}(t)}function Ot(t){return qt(t)&&kt(t)==i}function Et(t,e,n,o,a){return t===e||(null==t||null==e||!qt(t)&&!qt(e)?t!=t&&e!=e:function(t,e,n,o,a,l){var h=Ht(t),y=Ht(e),_=h?r:Rt(t),S=y?r:Rt(e),k=(_=_==i?p:_)==p,O=(S=S==i?p:S)==p,E=_==S;if(E&&Gt(t)){if(!Gt(e))return!1;h=!0,k=!1}if(E&&!k)return l||(l=new xt),h||Ut(t)?Lt(t,e,n,o,a,l):function(t,e,n,o,i,r,a){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!r(new K(t),new K(e)));case s:case c:case f:return Nt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case v:case m:return t==e+"";case d:var l=P;case g:var p=1&o;if(l||(l=z),t.size!=e.size&&!p)return!1;var h=a.get(t);if(h)return h==e;o|=2,a.set(t,e);var y=Lt(l(t),l(e),o,i,r,a);return a.delete(t),y;case b:if(gt)return gt.call(t)==gt.call(e)}return!1}(t,e,_,n,o,a,l);if(!(1&n)){var T=k&&U.call(t,"__wrapped__"),C=O&&U.call(e,"__wrapped__");if(T||C){var L=T?t.value():t,A=C?e.value():e;return l||(l=new xt),a(L,A,n,o,l)}}if(!E)return!1;return l||(l=new xt),function(t,e,n,o,i,r){var s=1&n,a=At(t),c=a.length,u=At(e).length;if(c!=u&&!s)return!1;var l=c;for(;l--;){var d=a[l];if(!(s?d in e:U.call(e,d)))return!1}var f=r.get(t);if(f&&r.get(e))return f==e;var p=!0;r.set(t,e),r.set(e,t);var h=s;for(;++l<c;){var v=t[d=a[l]],g=e[d];if(o)var m=s?o(g,v,d,e,t,r):o(v,g,d,t,e,r);if(!(void 0===m?v===g||i(v,g,n,o,r):m)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(p=!1)}return r.delete(t),r.delete(e),p}(t,e,n,o,a,l)}(t,e,n,o,Et,a))}function Tt(t){return!(!Wt(t)||function(t){return!!V&&V in t}(t))&&(Mt(t)?$:_).test(zt(t))}function Ct(t){if(n=(e=t)&&e.constructor,o="function"==typeof n&&n.prototype||F,e!==o)return ot(t);var e,n,o,i=[];for(var r in Object(t))U.call(t,r)&&"constructor"!=r&&i.push(r);return i}function Lt(t,e,n,o,i,r){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=r.get(t);if(u&&r.get(e))return u==e;var l=-1,d=!0,f=2&n?new wt:void 0;for(r.set(t,e),r.set(e,t);++l<a;){var p=t[l],h=e[l];if(o)var v=s?o(h,p,l,e,t,r):o(p,h,l,t,e,r);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!R(e,(function(t,e){if(s=e,!f.has(s)&&(p===t||i(p,t,n,o,r)))return f.push(e);var s}))){d=!1;break}}else if(p!==h&&!i(p,h,n,o,r)){d=!1;break}}return r.delete(t),r.delete(e),d}function At(t){return function(t,e,n){var o=e(t);return Ht(t)?o:function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t}(o,n(t))}(t,Vt,It)}function Dt(t,e){var n,o,i=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function jt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Tt(n)?n:void 0}mt.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},mt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},mt.prototype.get=function(t){var e=this.__data__;if(ut){var o=e[t];return o===n?void 0:o}return U.call(e,t)?e[t]:void 0},mt.prototype.has=function(t){var e=this.__data__;return ut?void 0!==e[t]:U.call(e,t)},mt.prototype.set=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=ut&&void 0===e?n:e,this},bt.prototype.clear=function(){this.__data__=[],this.size=0},bt.prototype.delete=function(t){var e=this.__data__,n=St(e,t);return!(n<0)&&(n==e.length-1?e.pop():Q.call(e,n,1),--this.size,!0)},bt.prototype.get=function(t){var e=this.__data__,n=St(e,t);return n<0?void 0:e[n][1]},bt.prototype.has=function(t){return St(this.__data__,t)>-1},bt.prototype.set=function(t,e){var n=this.__data__,o=St(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this},yt.prototype.clear=function(){this.size=0,this.__data__={hash:new mt,map:new(rt||bt),string:new mt}},yt.prototype.delete=function(t){var e=Dt(this,t).delete(t);return this.size-=e?1:0,e},yt.prototype.get=function(t){return Dt(this,t).get(t)},yt.prototype.has=function(t){return Dt(this,t).has(t)},yt.prototype.set=function(t,e){var n=Dt(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,n),this},wt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.clear=function(){this.__data__=new bt,this.size=0},xt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof bt){var o=n.__data__;if(!rt||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new yt(o)}return n.set(t,e),this.size=n.size,this};var It=et?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var s=t[n];e(s,n,t)&&(r[i++]=s)}return r}(et(t),(function(e){return Z.call(t,e)})))}:function(){return[]},Rt=kt;function Pt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||S.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){if(null!=t){try{return q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Nt(t,e){return t===e||t!=t&&e!=e}(it&&Rt(new it(new ArrayBuffer(1)))!=x||rt&&Rt(new rt)!=d||st&&Rt(st.resolve())!=h||at&&Rt(new at)!=g||ct&&Rt(new ct)!=y)&&(Rt=function(t){var e=kt(t),n=e==p?t.constructor:void 0,o=n?zt(n):"";if(o)switch(o){case lt:return x;case dt:return d;case ft:return h;case pt:return g;case ht:return y}return e});var Bt=Ot(function(){return arguments}())?Ot:function(t){return qt(t)&&U.call(t,"callee")&&!Z.call(t,"callee")},Ht=Array.isArray;var Gt=nt||function(){return!1};function Mt(t){if(!Wt(t))return!1;var e=kt(t);return e==l||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function Wt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function qt(t){return null!=t&&"object"==typeof t}var Ut=I?function(t){return function(e){return t(e)}}(I):function(t){return qt(t)&&Ft(t.length)&&!!k[kt(t)]};function Vt(t){return null!=(e=t)&&Ft(e.length)&&!Mt(e)?_t(t):Ct(t);var e}t.exports=function(t,e){return Et(t,e)}}(Gt,Gt.exports);var Mt=Gt.exports,Ft=function(){},Wt=function(){function e(){this.render=Ft,this.activeGuide=null,this.progress=0,this.next=Ft,this.prev=Ft,this.close=Ft,this.goto=Ft,u("%c Lusift constructor! ","background: #222; color: #bada55"),v(f())||p({}),function(){if(void 0!==c.document){var t=c.document.createElement("style");t.type="text/css",t.setAttribute("lusift-default",""),t.textContent=".lusift button{background:#11999e;border-radius:6px;color:#fff;font-weight:700;padding:.3rem .45rem}.lusift button:focus{outline:1px solid #333}.lusift .tooltip button{background-color:#11999e;border-radius:8px;color:#fff;font-size:.75rem;font-weight:700;padding:.2rem .35rem}.lusift .modal button{font-size:1.1rem;padding:.45rem .75rem}.lusift h1,.lusift h2,.lusift h3{text-align:center}.lusift .closeX{background-color:transparent;border:none;font-weight:400}.lusift .modal h1,.lusift .modal h2,.lusift .modal h3,.lusift .modal p{margin:0 0 .85rem}.lusift .modal h1,.lusift .modal h2,.lusift .modal h3{line-height:1.2}.lusift .tooltip section.close-btn{border-radius:inherit;display:flex;justify-content:flex-end;margin:-4px!important}.lusift .tooltip .closeX{background:transparent;border-radius:2px;color:#666;font-size:1rem;font-weight:400;margin:-4px -5px 0!important;padding:0 2px}.lusift .tooltip section.nav-buttons{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:4px!important}.lusift .tooltip .nav-buttons .dismiss-link{color:#777;font-size:.8rem;font-style:italic;margin-right:.4rem}.lusift .tooltip .nav-buttons .next,.nav-buttons .prev{background-color:#11999e;border-radius:8px;color:#fff;font-size:.75rem;font-weight:700;padding:.2rem .35rem}.lusift .tooltip .nav-buttons .prev{margin-right:.3rem}.tippy-box{z-index:999999}.lusift .tooltip{display:block;font-size:1rem;font-weight:700;padding:5px 9px;z-index:99999}.lusift .tooltip>*{margin:3px 6px}.lusift .tooltip .body-content{margin-top:0!important;min-width:80px;white-space:nowrap}.lusift .modal{background:#fff;display:flex;flex-direction:column;left:50%;opacity:1;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:99999}.lusift .modal section.close-btn{display:flex;justify-content:flex-end}.lusift .modal .closeX{background:transparent;border-radius:2px;color:#666;font-size:1.45rem;font-weight:400;margin-bottom:0!important;margin-right:.2rem;padding:0 2px}.lusift .modal .body-content{background:#fff;color:#111;flex-grow:1;max-height:500px;max-width:600px;min-height:30px;min-width:200px;overflow-x:none;overflow-y:auto;padding:3px 15px 8px;white-space:nowrap}.lusift-progress{-webkit-appearance:none;display:block;margin:0;margin-top:-1px;padding:0;width:100%}.modal .lusift-progress{margin-top:0}.lusift-progress::-webkit-progress-bar{initial:none;background-color:transparent}.lusift-progress::-webkit-progress-value{initial:none}.lusift-beacon{-webkit-animation-delay:1s;animation-delay:1s;border-radius:50%;cursor:pointer;pointer-events:auto;position:absolute}.lusift .hotspot-tooltip{display:block;font-size:1rem;font-weight:700;padding:5px 9px;white-space:nowrap}.lusift .hotspot-tooltip>*{margin:3px 6px}.lusift .hotspot-tooltip .body-content{margin-top:0!important;min-width:80px}",t.textContent+="\n\n    /* from dynamic javascript variables*/\n\n    .lusift-progress {\n      height: 3px;\n    }\n    .lusift-progress::-webkit-progress-bar {\n      border-radius: 4px; /*border-radius of tooltip*/\n    }\n    .modal .lusift-progress::-webkit-progress-bar {\n      border-radius: 4px; /*border-radius of modal*/\n    }\n    .lusift-progress::-webkit-progress-value {\n      background-color: #17a3a8; /*color of progress bar*/\n    }\n  ";var e=c.document.createElement("style");e.type="text/css",e.setAttribute("lusift-custom","");var n=c.document.createElement("style");n.type="text/css",n.setAttribute("lusift-custom-css","");var o=c.document.createDocumentFragment();o.appendChild(t),o.appendChild(e),o.appendChild(n),c.document.head.appendChild(o)}}()}return e.prototype.showEnabledContent=function(){var t=f(),e=Object.keys(t).find((function(e){var n=t[e].trackingState;return!!n&&n.enabled}));e&&this.showContent(e)},e.prototype.enable=function(t){var e=f();if(!Object.keys(e).some((function(e){return e===t})))return d("Content of id '"+t+"' doesn't exist");Object.keys(e).forEach((function(n){e[n].trackingState&&(e[n].trackingState.enabled=n===t)})),p(e),this.showContent(t)},e.prototype.disable=function(t){var e=f();if(!Object.keys(e).some((function(e){return e===t})))return d("Content of id '"+t+"' doesn't exist");e[t].trackingState.enabled=!1,p(e)},e.prototype.hasGuideDataChanged=function(e){var n=f();if(!n[e.id])return!0;var o=n[e.id];delete o.trackingState;var i=t.__assign({},e);return delete i.onNext,delete i.onClose,delete i.onPrev,!Mt(o,i)},e.prototype.reconcileContentWithLocalState=function(){var t=this,e={},n=JSON.parse(JSON.stringify(this.content));Object.keys(this.content).forEach((function(t){var e=n[t].data,o=e.id,i=e.name,r=void 0===i?"":i,s=e.description,a=void 0===s?"":s,c=e.steps,u=e.onNext,l=e.onPrev,d=e.onClose,f=e.doNotResetTrackerOnContentChange,p=void 0!==f&&f,h=c.map((function(t){return"tooltip"===t.type||"modal"===t.type?delete t.data.bodyContent:"hotspot"===t.type&&delete t.tip.data.bodyContent,t}));n[t].data={id:o,name:r,description:a,steps:h,onNext:u,onPrev:l,onClose:d,doNotResetTrackerOnContentChange:p}})),Object.keys(n).forEach((function(o){if("guide"===n[o].type){var i=n[o].data;if(t.hasGuideDataChanged(i)&&!i.doNotResetTrackerOnContentChange)u("guide with id '"+o+"' changed, tracking state reset."),e[i.id]=i;else{var r=f()[i.id];e[i.id]=r}}})),p(e)},e.prototype.setContent=function(t){var e,n,o=this;if(!y(t))return d("Content data type is invalid");this.content=t,Object.keys(t).forEach((function(e){var n=t[e].data,i=n.id,r=n.name,s=void 0===r?"":r,a=n.description,c=void 0===a?"":a,u=n.steps,l=n.onNext,d=n.onPrev,f=n.onClose,p=n.doNotResetTrackerOnContentChange,h=void 0!==p&&p;o.content[e].data={id:i,name:s,description:c,steps:u,onNext:l,onPrev:d,onClose:f,doNotResetTrackerOnContentChange:h}})),this.activeGuide&&(e=this.hasGuideDataChanged(this.content[this.activeGuide.id].data),n=Object.keys(this.content).includes(this.activeGuide.id)),this.reconcileContentWithLocalState(),this.activeGuide&&(!n||n&&e)&&(this.activeGuide.instance.removeAllActiveSteps(),this.activeGuide=null)},e.prototype.clearContent=function(){p({}),this.content={}},e.prototype.refresh=function(){var t=this;this.activeGuide?c.window.setTimeout((function(){t.activeGuide.instance.start(),u("Lusift refreshed")}),0):(l("No active guide instance to refresh"),this.showEnabledContent())},e.prototype.showContent=function(t){var e=this;if(!this.content)return d("Content not set, pass valid content data to setContent()");if(!this.content[t])return d("Content with id of "+t+" doesn't exist");if(this.activeGuide){var n=this.activeGuide,o=n.instance;if(n.id===t)return this.activeGuide.instance.reRenderStepElements(),d(t+" is already active");o.close()}c.window.setTimeout((function(){var n=new Ht(t);e.activeGuide={id:t,instance:n},n.start(),e.prepareHooks()}),500)},e.prototype.prepareHooks=function(){var t=this.activeGuide,e=t.instance,n=t.id;this.next=e.nextStep.bind(e),this.prev=e.prevStep.bind(e),this.close=e.close.bind(e),this.goto=e.setStep.bind(e);var o=this.content[n].data,i=o.onNext,r=o.onPrev,s=o.onClose;this.onNext=i,this.onPrev=r,this.onClose=s},e.prototype.setGlobalStyle=function(t){if("string"!=typeof t)return d("Invalid style passed to setGlobalStyle()");var e=c.document.querySelector("style[lusift-custom-css]");if(!e)return d("Style tag for custom-css not found. Report to Lusift's github.");e.textContent=t},e.prototype.getTrackingState=function(){return this.activeGuide?f()[this.activeGuide.id].trackingState:(l("No active guide"),null)},e.prototype.devShowStep=function(t,e){if(this.activeGuide)return l("Can't enable dev mode because a guide is active using showContent()");if(!this.content)return l("Content not set, pass valid content object to setContent() before running devShowStep()");if(this.next=this.prev=this.close=this.showContent=function(){d("Can't run this method in dev mode")},this.content[t]){var n=this.content[t].data.steps,o=n[e],i=o.target,r=o.type;if(!J({target:i,type:r}))return l("Display criteria for step do not match. Navigate to the right target page and make sure that the target element is in the visible screen, then reload page.");n[e]?(gt(n[e],t),u("%c Showing step "+e+" of "+t+" in dev mode","background: #222; color: #bada55")):d("Guide '"+t+"' doesn't have a step "+e)}else d("Guide with id '"+t+"' doesn't exist")},e}(),qt=new Wt,Ut=r,Vt=Ut.Vue2,Xt=Ut.createApp,$t=Ut.markRaw,Yt=Ut.isVue3;(0,Ut.install)();return void 0!==c.window&&(c.window.addEventListener("error",(function(t){}),!0),qt.render=function(t,e,n){"object"===s(t)?function(t,e,n){Yt?Xt($t(t)).mount(e):(new(Vt.extend(t))).$mount(e),n&&n()}(t,e,n):function(t,e,n){document.querySelector(e).innerHTML=t,n&&n()}(t,e,n)},c.window.Lusift=qt),qt}));
//# sourceMappingURL=index.js.map
