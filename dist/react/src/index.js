!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("tslib"),require("@floating-ui/dom"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","tslib","@floating-ui/dom","react-dom"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["Lusift-react"]=e(t.React,t.tslib,t.require$$1,t.ReactDOM)}(this,(function(t,e,n,i){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=o(t),a=o(e),s=o(n),c=o(i),u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l="undefined"!=typeof window?window:void 0!==u?u:"undefined"!=typeof self?self:{},d=console.log;function p(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];console.warn.apply(console,e.__spreadArray(["Lusift: "+t],n,!1))}function f(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];console.error.apply(console,e.__spreadArray(["Lusift: "+t],n,!1))}l.window||f("window is undefined");var h=function(){try{var t=l.window.localStorage.getItem("lusift_state");if(!t)return;return JSON.parse(t)}catch(t){return}},v=function(t){try{var e=JSON.stringify(t);l.window.localStorage.setItem("lusift_state",e)}catch(t){}};function g(t){return t instanceof Object&&t.constructor===Object}function b(t){return g(t)||void 0===t}function y(t){var e=["bottom","top","right","left","auto"];return e.forEach((function(t){e.push(t+"-start"),e.push(t+"-end")})),g(t)&&"boolean"==typeof t.arrow&&(!t.offset||t.offset instanceof Object&&2===t.offset.length)&&(!t.actions||g(t.actions))&&e.includes(t.placement)&&("string"==typeof t.contentBody||!t.contentBody&&"boolean"!=typeof t.contentBody)&&b(t.progressOn)&&b(t.backdrop)}function m(t){return g(t)&&"number"==typeof t.index&&["tooltip","hotspot","modal"].includes(t.type)&&function(t,e){var n="string"==typeof t.elementSelector&&!!t.elementSelector;return g(t)&&(n||"modal"===e)&&g(t.path)&&"string"==typeof t.path.comparator&&["is","contains","endsWith","startsWith"].includes(t.path.comparator)&&"string"==typeof t.path.value}(t.target,t.type)&&(function(t){return y(t.data)&&b(t.styleProps)&&"tooltip"===t.type&&y(t.data)}(t)||function(t){return"hotspot"===t.type}(t)||function(t){return"modal"===t.type&&g(t.data)&&b(t.closeButton)}(t))}function w(t){var e=["guide"];return g(t)&&Object.values(t).every((function(t){return typeof e.includes(t.type)&&function(t){return g(t)&&"string"==typeof t.id&&!!t.id&&"string"==typeof t.name&&"string"==typeof t.description&&t.steps instanceof Object&&t.steps.hasOwnProperty("length")&&t.steps.every(m)}(t.data)}))}function x(t,e){return t=Object.assign({},t),e=Object.assign({},e),Object.keys(e).forEach((function(n){try{g(e[n])?t[n]=x(t[n],e[n]):t[n]=e[n]}catch(i){t[n]=e[n]}})),t}var _=function(t){var e="";return Object.keys(t).forEach((function(n){e+=n.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))+": "+t[n]+" !important;\n"})),e},S=function(t){var e=t.guideID,n=t.index;return"lusift--g-"+e+"--"+t.type+"-"+n},k=function(t){var e=l.document.documentElement,n=l.document.body,i=l.window.pageYOffset||e.scrollTop||n.scrollTop,o=l.window.pageXOffset||e.scrollLeft||n.scrollLeft,r=t.getBoundingClientRect();return{top:r.top+i,left:r.left+o,right:r.left+o+r.width,bottom:r.top+i+r.height,height:r.height,width:r.width}},O=function(t,n){var i,o,r=h(),a=l.window.Lusift.activeGuide.id;v(e.__assign(e.__assign({},r),((i={})[a]=e.__assign(e.__assign({},r[a]),{trackingState:e.__assign(e.__assign({},r[a].trackingState),{asyncSteps:e.__assign(e.__assign({},r[a].trackingState.asyncSteps),(o={},o[t]={toOpen:n},o))})}),i)))},E=function(t,e){return void 0===e&&(e=2),Math.round((t+Number.EPSILON)*Math.pow(10,e))/Math.pow(10,e)},T=function(t){var e,n=t.value,i=t.comparator,o=l.window.location,r=o.pathname+o.hash;switch(i){case"is":return r===n;case"contains":return r.includes(n);case"endsWith":return r.endsWith(n);case"startWith":return r.startsWith(n);case"regex":return e=r,new RegExp(n,"i").test(e);default:return!1}},C=function(t){var e,n=t.target,i=t.type,o=T(n.path);return"modal"!==i&&(o=o&&(e=n.elementSelector,Boolean(l.document.querySelector(e)))),o},L="lusift-modal-overlay",I="4px",j="4px",A="#17a3a8",D=function(){var t=h()[l.window.Lusift.activeGuide.id];if(!t)return"";if(!t){return'\n      <progress class="lusift-progress" aria-label="progressbar" max="100" value="66.66">\n        66.66%\n      </progress>\n    '}var e=t.steps[t.trackingState.currentStepIndex],n=t.progressBar||{},i=n.height,o=void 0===i?"3px":i,r=n.color,a=void 0===r?A:r,s=n.borderRadius;s||(s="modal"===e.type?e.styleProps&&e.styleProps.borderRadius||j:e.styleProps&&e.styleProps.borderRadius||I);var c=t.steps.filter((function(t){return!("hotspot"===t.type&&t.async)})),u=(c.findIndex((function(t){return t.index===e.index}))+1)/(c.length+1)*100;return"\n    <style>\n      .lusift-progress {\n        height: "+o+";\n      }\n      .lusift-progress::-webkit-progress-bar {\n        border-radius: "+s+"; /*border-radius of tooltip*/\n      }\n      .lusift-progress::-webkit-progress-value {\n        background-color: "+a+'; /*color of progress bar*/\n      }\n    </style>\n\n    <progress class="lusift-progress" aria-label="progressbar" max="100" value="'+u+'">\n      '+u+"%\n    </progress>\n    "},P=function(t,e){return t.disabled?'<div style="margin-top: 0.7rem"></div>':"\n    <style>\n      .lusift ."+e.toLowerCase()+" .closeX{\n        "+_(t.styleProps)+'\n      }\n    </style>\n\n    <section class="close-btn">\n      <button onclick="Lusift.close()" class="closeX close">&times;</button>\n    </section>\n  '},N={exports:{}};!function(t,e){t.exports=function(t,e){function n(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd","oTransitionEnd"].forEach((function(e){t[i](e,n)}))}function i(t,e){t.setAttribute("data-transition-state",e),console.log(">> new transition state: "+e)}function o(t,e){t.setAttribute("data-state",e),Object.assign(t.style,{visibility:e})}function r(){return document.createElement("div")}function a(t){return{box:t.querySelector(".floating-ui-tooltip-box"),content:t.querySelector(".floating-ui-tooltip-content"),arrow:t.querySelector(".floating-ui-tooltip-arrow")||void 0}}function s(t,e){var r=t._instance,a=t.getAttribute("data-transition-state");if(console.log("``````````"),console.log("\n"),console.log(e,a),"visible"===e){if("shown"===a||"showing"===a)return void console.log("already "+a);if("hidden"===a)console.log("showing"),i(t,"showing");else if("hiding"===a)return void console.log("cancelling "+a)}else{if("hidden"===a||"hiding"===a)return void console.log("already "+a);if("shown"===a)i(t,"hiding"),r.props.onHide(r);else if("showing"===a)return void console.log("cancelling "+a)}var s="visible"===e?"shown":"hidden";0!==r.transitionDuration?(function(t,e){function i(o){if(o.target===t){n(t,"remove",i);try{e()}catch(e){console.error(e),t._instance.props.onHide()}}}n(t,"remove",i),n(t,"add",i)}(t,(function(){!function(t,e){t._instance.setState({isShown:"visible"===e})}(t,e),i(t,s),"visible"===e&&r.props.onShow(r)})),o(t,e)):(o(t,e),i(t,s),"visible"===e&&r.props.onShow(r))}var c={top:"bottom",right:"left",bottom:"top",left:"right"},u=function(n,i,o,r,u,l){return t.__awaiter(void 0,void 0,void 0,(function(){var d,p,f,h,v,g,b,y,m,w,x,_,S,k,O,E,T,C,L,I,j,A,D,P,N,z,G,B,R,H,F,M,q,U,W,V,$;return t.__generator(this,(function(X){switch(X.label){case 0:return f=void 0!==(p=(d={}).toFlip)&&p,v=void 0===(h=d.toShift)||h,g=n.placement,b=n.hideOnReferenceHidden,y=n.offset,m=n.hideOnTooltipEscape,w=n.arrowSizeScale,x=n.resetPlacementOnUpdate,_=n.arrow,S=n.showOnCreate,k=a(i),O=k.arrow,E=12*w,o?(T="auto"===g&&(u||x),C="auto"!==g&&f,L=v&&u,I={middleware:t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray([e.offset({mainAxis:y[0],crossAxis:y[1]})],T?[e.autoPlacement()]:[],!0),L?[e.shift({padding:16})]:[],!0),C?[e.flip({fallbackPlacements:["right","left"],fallbackStrategy:"initialPlacement"})]:[],!0),_?[e.arrow({element:O,padding:2})]:[],!0),[e.size({apply:function(t){t.width,t.height,t.reference,t.floating}}),e.hide()],!1)},"auto"!==g&&(I.placement=g),[4,e.computePosition(o,i,I)]):[2];case 1:switch(j=X.sent(),A=j.x,D=j.y,P=j.placement,N=j.middlewareData,z=N.hide,G=z.referenceHidden,B=z.escaped,G&&u&&o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),N.arrow&&(R=N.arrow.x,H=N.arrow.y),F=0!==N.arrow.centerOffset,"visible"==(M=b&&G||m&&B||r?"hidden":"visible")&&u&&!S&&(M="hidden"),s(i,M),Object.assign(i.style,{left:A+"px",top:D+"px"}),q=c[P.split("-")[0]],U=0,W=0,V=0,V=null!==R?R+E+"px":"",q){case"top":U=1/1.7,V=null!==R?R+E*U+"px":"";break;case"bottom":U=.5,V=null!==R?R+E*U+"px":"";break;case"left":U=.005,V=null!==R?R+"px":"",W=null!==H?H-E*U/2+"px":"";break;case"right":U=1.2,V=null!==R?R+"px":"",W=null!==H?H-E*U/2+"px":""}return W=null!==H?H-E*U/2+"px":"",W=null!==H?H+"px":"",Object.assign(O.style,(($={visibility:F?"hidden":"visible",left:V,top:W,right:"",bottom:""})[q]="-"+E*U+"px",$)),l({fui:j}),[2,j]}}))}))},l={allowHTML:!0,content:"",arrow:!0,scrollIntoView:!1,transitionDuration:[300,250],offset:[10,0],hideOnClick:!0,onClickOutside:function(t,e){},onShow:function(t){},onHide:function(t){},onStateChange:function(t,e){},onRemove:function(){},placement:"top",resetPlacementOnUpdate:!1,hideOnTooltipEscape:!0,hideOnReferenceHidden:!0,showOnCreate:!0,maxWidth:350,updateDebounce:100,zIndex:99999,arrowSizeScale:1,updateOnEvents:"resize scroll"},d=function(){function n(t,e){var n,i=this;this.state={isShown:!1,isRemoved:!1,fui:void 0},this.updateListenerCleanup=function(){},this.toHideTooltip=!1,this.transitionDuration=0,this.clickHandler=function(t){i.state.isShown&&(i.tooltipElement.contains(t.target)||i.reference.contains(t.target)||i.props.onClickOutside&&i.props.onClickOutside(i,t),"target"===i.props.hideOnClick?t.target===i.reference&&i.hide():i.props.hideOnClick&&i.hide())},this.props=t,this.reference=e,(n=document.createElement("style")).type="text/css",n.setAttribute("floating-ui-tooltip-default",""),n.textContent=".floating-ui-tooltip-root{--color:#fff;--border-color:#fefefe;--border-color:red;backface-visibility:hidden;background:var(--color);border-radius:6px;box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);display:flex;font-size:90%;line-height:0px;margin:0;max-width:calc(100vw - 10px);padding:0;position:absolute;transition-duration:.2s;transition-property:transform,visibility,opacity;transition-timing-function:cubic-bezier(.54,1.5,.38,1.11);z-index:9999}.floating-ui-tooltip-arrow{box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);height:14px;position:absolute;transform:translateX(-50%) rotate(45deg);width:14px;z-index:-1}.floating-ui-tooltip-box{border-radius:inherit;line-height:normal;margin:0;outline:0;position:relative}.floating-ui-tooltip-root[data-state=hidden]{opacity:0}.floating-ui-tooltip-root[data-state=visible]{opacity:1}.floating-ui-tooltip-content{background-color:#fff;border-radius:inherit;color:#111;padding:0;position:relative;z-index:2}.floating-ui-tooltip-arrow,.floating-ui-tooltip-root{background:var(--color)}",document.head.appendChild(n),this.toHideTooltip=!this.props.showOnCreate}return n.prototype.hookEventListeners=function(){var t,n,i,o=this;this.debouncedUpdate=(t=this.update.bind(this),0===(n=this.props.updateDebounce)?t:function(e){clearTimeout(i),i=setTimeout((function(){t(e)}),n)});var r=e.autoUpdate(this.reference,this.tooltipElement,(function(){return o.debouncedUpdate(void 0)})),a=function(){return o.debouncedUpdate(void 0)};this.props.updateOnEvents.split(" ").forEach((function(t){window.addEventListener(t,a)})),window.addEventListener("click",this.clickHandler.bind(this)),this.updateListenerCleanup=function(){r(),window.removeEventListener("click",o.clickHandler.bind(o)),o.props.updateOnEvents.split(" ").forEach((function(t){window.removeEventListener(t,a)}))}},n.prototype.updateTransitionDuration=function(t){this.transitionDuration=t,this.tooltipElement.style.transitionDuration=t+"ms"},n.prototype.create=function(){return t.__awaiter(this,void 0,void 0,(function(){var e,n,s,c,l;return t.__generator(this,(function(t){switch(t.label){case 0:return e=!this.props.showOnCreate,this.tooltipElement=(d=this,p=r(),f=r(),h=r(),v=r(),p.className="floating-ui-tooltip-root",f.className="floating-ui-tooltip-box",h.className="floating-ui-tooltip-content",v.className="floating-ui-tooltip-arrow",f.appendChild(h),f.appendChild(v),p.appendChild(f),Object.assign(h.style,{maxWidth:d.props.maxWidth+"px"}),h.innerHTML='\n    <div id="tooltip-container">\n    <h3>Default tooltip</h3>\n    </div>\n  ',f.setAttribute("role","tooltip"),o(p,"hidden"),i(p,"hidden"),Object.assign(p.style,{visibility:"hidden",left:"0px",top:"0px"}),p._instance=d,p),this.updateTransitionDuration(this.props.transitionDuration[e?0:1]),n=a(this.tooltipElement).content,s=this.props,c=s.allowHTML,l=s.content,c?n.innerHTML=l:n.innerText=""+l,document.body.appendChild(this.tooltipElement),[4,u(this.props,this.tooltipElement,this.reference,e,!0,this.setState.bind(this))];case 1:return t.sent(),this.hookEventListeners(),[2]}var d,p,f,h,v}))}))},n.prototype.getState=function(){return this.state},n.prototype.setState=function(e){void 0!==e.isShown&&e.isShown!==this.state.isShown&&this.updateTransitionDuration(this.props.transitionDuration[e.isShown?1:0]),this.props.onStateChange(this.state,e),this.state=t.__assign(t.__assign({},this.state),e)},n.prototype.update=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return e=e||this.toHideTooltip||!1,[4,u(this.props,this.tooltipElement,this.reference,e,!1,this.setState.bind(this))];case 1:return t.sent(),[2]}}))}))},n.prototype.hide=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return this.toHideTooltip=!0,[4,this.update(!0)];case 1:return t.sent(),[2]}}))}))},n.prototype.show=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return this.toHideTooltip=!1,[4,this.update(!1)];case 1:return t.sent(),[2]}}))}))},n.prototype.remove=function(){this.tooltipElement.remove(),this.state={isShown:!1,isRemoved:!0,fui:void 0},this.updateListenerCleanup(),console.log("removed all event listeners and observers"),this.props.onRemove()},n}();return function(e,n){return t.__awaiter(this,void 0,void 0,(function(){var i,o,r,a,s;return t.__generator(this,(function(c){switch(c.label){case 0:return i=n.placement||l.placement,o=n.transitionDuration||l.transitionDuration,r=n.offset||l.offset,Object.keys(n).forEach((function(t){return void 0===n[t]&&delete n[t]})),a=t.__assign(t.__assign(t.__assign({},l),n),{placement:i,transitionDuration:o,offset:r}),[4,(s=new d(a,e)).create()];case 1:return c.sent(),[2,{props:s.props,reference:s.reference,tooltipElement:s.tooltipElement,getState:s.getState.bind(s),show:s.show.bind(s),hide:s.hide.bind(s),remove:s.remove.bind(s),update:s.update.bind(s)}]}}))}))}}(a.default,s.default)}(N);var z=N.exports,G=function(t){return e.__awaiter(void 0,void 0,void 0,(function(){var n,i,o,r,a,s,c,u,l,d,p,f;return e.__generator(this,(function(e){return n=t.target,i=t.content,o=t.arrow,r=t.offset,a=t.placement,s=t.onShow,c=t.onHide,u=t.showOnCreate,l=t.onClickOutside,d=t.hideOnReferenceHidden,p=t.hideOnTooltipEscape,f=t.scrollIntoView,[2,z(n,{allowHTML:!0,zIndex:99999,hideOnClick:!1,onClickOutside:l,onShow:s,onHide:c,content:i,hideOnReferenceHidden:d,hideOnTooltipEscape:p,arrow:o,offset:r,placement:a,showOnCreate:u,scrollIntoView:f})]}))}))},B=function(t){var n=t.data,i=t.target,o=t.styleProps,r=t.actions,a=t.uid,s=t.index,c=t.onShow,u=t.onHide,l=t.scrollIntoView;return e.__awaiter(void 0,void 0,void 0,(function(){var t,d,p,f,h,v,g,b,y;return e.__generator(this,(function(e){switch(e.label){case 0:return t=r.closeButton,d=r.navSection,p=n.arrow,f=n.placement,h=n.offset,v="\n    <style>\n      .tippy-box{\n        border-radius: 4px;\n        "+_(o)+'\n      }\n    </style>\n\n    <div class="lusift">\n      '+D()+'\n      <div class="tooltip" id="tooltip-'+a+'">\n        '+P(t,"tooltip")+'\n        <section class="body-content">\n        </section>\n        '+function(t){var e=t.nextButton,n=t.prevButton,i=t.dismissLink;return"\n    <style>\n    .lusift .tooltip section.nav-buttons{\n      "+_(t.styleProps)+"\n    }\n    .lusift .tooltip .nav-buttons .next{\n      "+_(e.styleProps)+"\n    }\n    .lusift .tooltip .nav-buttons .prev{\n      "+_(n.styleProps)+'\n    }\n    </style>\n\n    <section class="nav-buttons">\n      '+(i.disabled?"":'\n        <button onclick="Lusift.close()" class="close dismiss-link">\n          skip this\n        </button>\n        ')+"\n      "+(n.disabled?"":'<button onclick="Lusift.prev()" class="prev lusift-button">Prev</button>')+"\n      "+(e.disabled?"":'<button onclick="Lusift.next()" class="next lusift-button">Next</button>')+"\n    </section>\n  "}(d)+"\n      </div>\n    <div>\n  ",[4,G({target:i,content:v,arrow:p,offset:h,placement:f,remove:function(){},onShow:c,onHide:u,scrollIntoView:l})];case 1:return g=e.sent(),b=window.Lusift,y=b.content[b.activeGuide.id].data.steps[s].data.bodyContent||'\n  <h3 style="font-weight: bold;">Default title</h3>\n  <p style="font-weight: normal;">Default tooltip content</p>\n',b.render(y,".lusift > .tooltip > .body-content",(function(){g.update()})),[2,g]}}))}))},R={styleProps:{},closeButton:{styleProps:{},disabled:!1},navSection:{styleProps:{},nextButton:{text:"next",styleProps:{},disabled:!1},prevButton:{text:"prev",styleProps:{},disabled:!0},dismissLink:{text:"skip this",styleProps:{},disabled:!0}}},H=function(t,e){var n=t.toString().substring(t.toString().indexOf(".")).length-1;-1==t.toString().indexOf(".")&&(n=0);var i=e.toString().substring(e.toString().indexOf(".")).length-1;-1==e.toString().indexOf(".")&&(i=0);var o=Math.min(n,i);return o>2&&(o=1),E(t,o)===E(e,o)};Object.fromEntries=function(t){return Object.assign.apply(Object,e.__spreadArray([{}],t.map((function(t){var e,n=t[0],i=t[1];return(e={})[n]=i,e})),!1))};var F=function(){function t(t){var e=t.targetSelector,n=t.guideID,i=t.index,o=t.data;this.overlaySelectorClass="lusift-backdrop-overlay",this.data={stageGap:5,opacity:"0.5",color:"#444"},this.toStopOverlay=!1;var r,a=S({guideID:n,index:i,type:"backdrop"});this.stagedTargetClass=a+"__target",this.data=Object.assign({},this.data,(r=o,Object.fromEntries(Object.entries(r).filter((function(t){return t[0],void 0!==t[1]}))))),this.targetSelector=e,this.createOverlay(),this.focusTrap=yt({target:[".lusift > .tooltip",this.targetSelector],escToClose:!1,clickOutsideToClose:!1})}return t.prototype.resetBackdrop=function(){if(this.toStopOverlay)return f("Lusift: This overlay instance should be removed");this.removeOverlay(),this.createOverlay()},t.prototype.createOverlay=function(){var t=this,n=l.document.querySelector(this.targetSelector),i=this.data.stageGap,o=function(){var t=k(l.document.documentElement),e=t.height,n=t.width,i=Math.max(n,l.document.body.scrollWidth,l.document.documentElement.scrollWidth,l.document.body.offsetWidth,l.document.documentElement.offsetWidth),o=Math.max(e,l.document.body.scrollHeight,l.document.documentElement.scrollHeight,l.document.body.offsetHeight,l.document.documentElement.offsetHeight);return{documentWidth:i,documentHeight:o}}(),r=o.documentHeight,a=o.documentWidth,s=k(n),c=l.document.createElement("div");c.id="hTop";var u=l.document.createElement("div");u.id="hBottom";var d=l.document.createElement("div");d.id="vLeft";var p=l.document.createElement("div");p.id="vRight";var f={opacity:"0.5",background:"#444",transition:"visibility 0.3s ease-in-out",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:998,border:"1px solid transparent"};c.style.cssText=_(e.__assign(e.__assign({},f),{height:s.bottom-s.height-i+"px",width:s.right-s.left+2*i+"px",left:s.left-i+"px",bottom:s.top-i+"px"})),u.style.cssText=_(e.__assign(e.__assign({},f),{height:r-(s.top+s.height+i)+"px",width:s.right-s.left+2*i+"px",left:s.left-i+"px",top:s.bottom+i+"px"})),d.style.cssText=_(e.__assign(e.__assign({},f),{width:s.left-i+"px",height:r+"px",right:s.left-i+"px"})),p.style.cssText=_(e.__assign(e.__assign({},f),{width:a-(s.left+s.width)-i+"px",height:r+"px",left:s.right+i+"px"})),[c,u,d,p].forEach((function(e){e.classList.add(t.overlaySelectorClass),l.document.body.appendChild(e)})),n.classList.add(this.stagedTargetClass);var h=k(c),v=h.height,g=h.width,b=k(u).height,y=g+k(d).width+k(p).width,m=v+b+s.height+2*i;H(a,y)&&H(r,m)||this.resetBackdrop()},t.prototype.removeOverlay=function(){l.document.querySelectorAll("."+this.overlaySelectorClass).forEach((function(t){t&&t.remove()}));var t=l.document.querySelector(this.targetSelector);t&&t.classList.remove(this.stagedTargetClass)},t.prototype.remove=function(){this.toStopOverlay=!0,this.focusTrap&&this.focusTrap.deactivate(),this.removeOverlay()},t}(),M={disabled:!1,color:"#444",opacity:"0.5",stageGap:5,nextOnOverlayClick:!1},q=[12,0],U=function(){function t(t){var n=t.target,i=t.guideID,o=t.index,r=t.data,a=t.actions,s=t.styleProps;this.actions=R,this.styleProps={},this.targetsAndEventListeners=[],this.isTooltipShown=!1,d("%c Tooltip constructor! ","background: #222; color: #bada55"),this.target=n;var c=n.elementSelector;this.styleProps=s||{},this.data=r,this.index=o;var u=r.progressOn||{};this.data.progressOn=e.__assign({eventType:"click",elementSelector:c},u);var p=r.backdrop||{};this.data.backdrop=e.__assign(e.__assign({},M),p),this.data.offset=this.data.offset||q,this.data.backdrop.disabled||(this.data.offset[0]=this.data.offset[0]+this.data.backdrop.stageGap),this.consolidateActions(a),this.uid=S({guideID:i,index:o,type:"tooltip"}),this.guideID=i,this.targetElement=l.document.querySelector(c),this.show(),d("tooltip started")}return t.prototype.hide=function(){this.fuitInstance.hide(),this.removeAllEventListeners(),this.backdropInstance&&this.backdropInstance.remove(),this.backdropInstance=null,this.isTooltipShown=!1},t.prototype.consolidateActions=function(t){this.actions=x(this.actions,t)},t.prototype.addBackdrop=function(){var t=this,e=this.data.backdrop,n={stageGap:e.stageGap,opacity:e.opacity,color:e.color};this.backdropInstance=new F({targetSelector:this.target.elementSelector,guideID:this.guideID,index:this.index,data:n}),this.data.backdrop.nextOnOverlayClick&&Array.from(l.document.getElementsByClassName(this.backdropInstance.overlaySelectorClass)).forEach((function(e){t.addEventListenerToTarget(e,"next")}))},t.prototype.show=function(){return e.__awaiter(this,void 0,void 0,(function(){var t,i,o,r,a,s,c,u,l,d,p,h,v,g=this;return e.__generator(this,(function(e){switch(e.label){case 0:return this.targetElement?this.isTooltipShown?[2,f("Tooltip is already displayed")]:(t=this.data,i=t.progressOn,o=t.backdrop,a=(r=i).eventType,r.disabled||this.addEventListenerToTarget(this.targetElement,"next",a),this.fuitInstance?[3,2]:(c=(s=this).uid,u=s.actions,l=s.styleProps,d=s.data,p=s.index,h=this,[4,B({uid:c,target:this.targetElement,actions:u,styleProps:l,data:d,scrollIntoView:!0,index:p,onShow:function(t){t.state.isShown&&(o.disabled||g.addBackdrop.bind(g)(),g.isTooltipShown=!0)},onHide:function(t){o.disabled||(g.backdropInstance&&g.backdropInstance.remove(),g.backdropInstance=null,g.isTooltipShown=!1)}})])):[2,f("Error: target element not found")];case 1:return h.fuitInstance=e.sent(),o.disabled||(v=mt((function(t){g.backdropInstance&&g.backdropInstance.resetBackdrop()}),100),this.backdropAutoUpdateCleanup=n.autoUpdate(this.targetElement,this.fuitInstance.tooltipElement,(function(){v(void 0)}),{ancestorScroll:!1,ancestorResize:!0,elementResize:!0})),[3,3];case 2:this.fuitInstance.show(),e.label=3;case 3:return[2]}}))}))},t.prototype.remove=function(){if(!this.isTooltipShown)return f("Attempted to remove but tooltip is not shown");d("removing tooltip "+this.uid),this.removeAllEventListeners(),this.backdropInstance&&this.backdropInstance.remove(),this.fuitInstance.remove(),this.fuitInstance=null,this.isTooltipShown=!1},t.prototype.getListenerFromMethod=function(t){switch(t){case"next":return l.window.Lusift.next;case"prev":return l.window.Lusift.prev;case"close":return this.remove;default:return function(){}}},t.prototype.addEventListenerToTarget=function(t,e,n){void 0===e&&(e="next"),void 0===n&&(n="click"),t.addEventListener(n,this.getListenerFromMethod(e)),this.targetsAndEventListeners.push({method:e,target:t,eventType:n})},t.prototype.removeAllEventListeners=function(){var t=this;this.backdropAutoUpdateCleanup&&this.backdropAutoUpdateCleanup(),this.targetsAndEventListeners.forEach((function(e){var n=e.method,i=e.target,o=e.eventType;i.removeEventListener(o,t.getListenerFromMethod(n)),d("remove event listener of type "+o+" and method "+n)})),this.targetsAndEventListeners=[]},t}(),W=function(){function t(t){var e=t.index,n=t.guideID,i=t.data,o=t.closeButton;this.data={},this.uid=S({guideID:n,type:"modal",index:e}),this.data=i||{},this.index=e,this.closeButton=o,this.addModal();var r=this.data,a=r.escToClose,s=r.clickOutsideToClose;(this.focusTrap=yt({target:".modal",escToClose:a,clickOutsideToClose:s}),a&&l.window.addEventListener("keydown",this.escEventListener,!0),s)&&l.document.querySelector(".lusift-modal-overlay").addEventListener("click",this.overlayClickEventListener,!0)}return t.prototype.escEventListener=function(t){"Escape"!=t.key&&"Esc"!=t.key&&27!=t.keyCode||"BODY"!=t.target.nodeName||l.window.Lusift.close()},t.prototype.overlayClickEventListener=function(t){t.target.classList.contains("modal")||l.window.Lusift.close()},t.prototype.addModal=function(){this.data.bodyContent,function(t){var n=t.uid,i=t.index,o=t.closeButton,r=void 0===o?{}:o,a=l.document.createElement("div"),s=l.document.createElement("div");s.id=n,a.classList.add(L),a.style.cssText=_(e.__assign({position:"absolute",background:"#444",display:"flex",justifyContent:"center",alignItems:"center",opacity:"0.5",top:"0",left:"0",bottom:"0",right:"0",zIndex:"99998"},{})),s.style.cssText=_(e.__assign({borderRadius:j},{})),s.classList.add("modal"),s.innerHTML="\n    "+D()+"\n    "+P(r,"modal")+'\n    <section class="body-content">\n    </section>\n  ';var c=l.document.createElement("div");c.classList.add("lusift"),c.appendChild(s),l.document.body.appendChild(a),l.document.body.appendChild(c);var u=window.Lusift,d=u.content[u.activeGuide.id].data.steps[i].data.bodyContent||'\n    <style>\n    .modal .body-content {\n      max-height: 500px;\n      width: 600px;\n      display: flex;\n      flex-direction: column;\n    }\n    h2{\n      font-weight: bold;\n      font-size: 1.5rem;\n    }\n    .button-area{\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin: 2rem 0;\n    }\n    </style>\n    <h2>Default Modal Content</h2>\n    <div class="button-area">\n      <button class="button" onclick="Lusift.next()">\n        Next\n      </button>\n    </div>';u.render(d,".lusift > .modal > .body-content")}({uid:this.uid,index:this.index,closeButton:this.closeButton})},t.prototype.remove=function(){var t=l.document.querySelector(".lusift-modal-overlay");l.document.getElementById(this.uid).remove(),this.focusTrap.deactivate(),this.data.escToClose&&l.window.removeEventListener("keydown",this.escEventListener,!0),this.data.clickOutsideToClose&&t.removeEventListener("click",this.overlayClickEventListener,!0),t.remove()},t}(),V=function(t){t.remove;var n=t.data,i=t.target,o=t.styleProps,r=t.uid,a=t.index,s=t.onClickOutside,c=t.showOnCreate;return e.__awaiter(void 0,void 0,void 0,(function(){var t,u,l,d,p,f,h;return e.__generator(this,(function(e){switch(e.label){case 0:return t=n.arrow,u=n.placement,l=n.offset,d="\n    <style>\n      .tippy-box{\n        z-index: 999999;\n        border-radius: 4px;\n        "+_(o)+"\n      }\n    </style>\n\n    "+D()+'\n    <div class="lusift">\n      <div class="hotspot-tooltip" id="tooltip-'+r+'">\n        <section class="body-content">\n        </section>\n      </div>\n    </div>\n  ',[4,G({target:i,content:d,arrow:t,offset:l,placement:u,onClickOutside:s,hideOnReferenceHidden:!1,hideOnTooltipEscape:!1,showOnCreate:c,remove:function(){}})];case 1:return p=e.sent(),f=window.Lusift,h=f.content[f.activeGuide.id].data.steps[a].tip.data.bodyContent||'\n  <h3 style="font-weight: bold;">Default title</h3>\n  <p style="font-weight: normal;">Default tooltip content</p>\n',f.render(h,".lusift > .hotspot-tooltip > .body-content",(function(){p.update()})),[2,p]}}))}))};function $(){return l.document.createElement("div")}var X=function(t){var n=t.beaconData,i=t.beaconID,o=t.toggleTooltip,r=$();r.classList.add("lusift-beacon-container"),Object.assign(r.style,{position:"absolute"});var a=n.size,s=n.color;n.type,r.innerHTML="\n    <style>\n      #"+i+" {\n        background-color: "+(s||"#b9f")+";\n        border-radius: 50%;\n        position: absolute;\n        pointer-events: auto;\n        width: "+13*a+"px;\n        height: "+13*a+"px;\n\n        \n        -webkit-animation: shine 2s ease-in-out infinite;\n        animation: shine 2s ease-in-out infinite;\n          \n        cursor: pointer;\n        -webkit-animation-delay: 1s;\n        animation-delay: 1s;\n      }\n\n\n      @-webkit-keyframes shine {\n        0%, 20% {\n          box-shadow: 0px 0px 0px 0px rgba(187, 153, 255, 0.49);\n        }\n        100% {\n          box-shadow: 0px 0px 0px "+20*a+"px rgba(0, 0, 0, 0);\n        }\n      }\n\n      @keyframes shine {\n        0%, 20% {\n          box-shadow: 0px 0px 0px 0px rgba(187, 153, 255, 0.49);\n        }\n        100% {\n          box-shadow: 0px 0px 0px "+20*a+'px rgba(0, 0, 0, 0);\n        }\n      }\n    }\n    </style>\n    <div class="lusift-beacon" id="'+i+'"></div>\n  ',l.document.body.appendChild(r);var c=r.querySelector("#"+i),u=$();return u.id=i+"-er",Object.assign(u.style,e.__assign(e.__assign({},c.style),{background:"transparent",zIndex:"394490"})),c.appendChild(u),u.addEventListener("click",o),u},Y=function(){function t(t){var e=t.data,n=t.guideID;d(e),this.data=e;var i=e.index,o=e.type,r=e.target;this.tipID=S({guideID:n,type:o,index:i}),this.beaconID=S({guideID:n,type:"beacon",index:i}),this.targetElement=l.document.querySelector(r.elementSelector),this.addBeacon(),this.createTip()}return t.prototype.updateBeaconPosition=function(){var t=k(this.targetElement),e={targetTop:t.top,targetLeft:t.left,targetWidth:t.width,targetHeight:t.height},n=this.data.beacon;!function(t,e,n){var i=e.targetTop,o=e.targetLeft,r=e.targetHeight,a=e.targetWidth,s=n.top,c=n.left,u=t.getAttribute("id"),l=t.parentElement,d=t.querySelector("#"+u+"-er");Object.assign(l.style,{top:i+"px",left:o+"px"});var p=k(t),f=p.width,h=p.height;Object.assign(d.style,{width:f+"px",height:h+"px"}),Object.assign(t.style,{top:s/100*r+"px",left:c/100*a+"px"})}(l.document.getElementById(this.beaconID),e,n.placement)},t.prototype.addBeacon=function(){d("adding beacon");var t=this.data.beacon;X({beaconData:t,beaconID:this.beaconID,toggleTooltip:this.toggleTooltip.bind(this)}),this.updateBeaconPosition()},t.prototype.createTip=function(){return e.__awaiter(this,void 0,void 0,(function(){var t,i,o,r,a,s,c,u,d,p;return e.__generator(this,(function(e){switch(e.label){case 0:return t=l.window.Lusift,i=l.document.getElementById(""+this.beaconID),o=this.data.tip,r=o.data,a=o.styleProps,s=!Boolean(t.activeGuide),c=s?t.close:this.removeAndCloseAsync.bind(this),u=this,[4,V({remove:c,uid:this.tipID,index:this.data.index,target:i,styleProps:a,showOnCreate:!1,data:r,onClickOutside:function(t,e){c()}})];case 1:return u.fuitInstance=e.sent(),d=this.updateBeaconPosition.bind(this),p=mt((function(t){d()}),100),this.beaconAutoUpdateCleanup=n.autoUpdate(this.targetElement,this.fuitInstance.tooltipElement,(function(){p(void 0)}),{ancestorScroll:!1,ancestorResize:!0,elementResize:!0}),[2]}}))}))},t.prototype.toggleTooltip=function(){return e.__awaiter(this,void 0,void 0,(function(){var t,n;return e.__generator(this,(function(e){switch(e.label){case 0:return t=l.window.Lusift.activeHotspot,n=l.window.Lusift,t&&this.data.index!==t.data.index&&n.activeHotspot.hideTooltip(),this.fuitInstance.getState().isRemoved?(f("Uh... but it doesn't exist. unexpected"),[3,5]):[3,1];case 1:return this.fuitInstance.getState().isShown?[4,this.hideTooltip()]:[3,3];case 2:return e.sent(),[3,5];case 3:return this.fuitInstance?[4,this.fuitInstance.show()]:[3,5];case 4:e.sent(),n.activeHotspot=this,e.label=5;case 5:return[2]}}))}))},t.prototype.hideTooltip=function(){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fuitInstance.hide()];case 1:return t.sent(),l.window.Lusift.activeHotspot=null,[2]}}))}))},t.prototype.changeAsyncStepStatus=function(t){this.data.async&&O(this.data.index,t)},t.prototype.remove=function(){return e.__awaiter(this,void 0,void 0,(function(){var t;return e.__generator(this,(function(e){switch(e.label){case 0:return d("Removing id: "+this.data.index+" hotspot"),this.fuitInstance?this.fuitInstance.getState().isShown?[4,this.hideTooltip()]:[3,2]:[3,3];case 1:e.sent(),e.label=2;case 2:return this.fuitInstance.getState().isRemoved?d("Hotspot's tooltip is already destroyed"):this.fuitInstance.remove(),[3,4];case 3:d("Hotspot closed without ever opening"),e.label=4;case 4:return(t=l.document.getElementById(this.beaconID))&&t.parentElement.remove(),[2]}}))}))},t.prototype.removeResizeObservers=function(){this.beaconAutoUpdateCleanup()},t.prototype.removeAndCloseAsync=function(){this.remove(),this.changeAsyncStepStatus(!1),this.removeResizeObservers()},t}(),J=function(t,e){var n,i=t.index,o=t.target,r=t.type,a=t.data,s=t.closeButton;if("tooltip"===r){var c=t.actions,u=t.styleProps;n=new U({target:o,data:a,index:i,guideID:e,actions:c,styleProps:u})}else"modal"===r?n=new W({index:i,guideID:e,data:a,closeButton:s}):"hotspot"===r&&(n=new Y({data:t,guideID:e}));return n},K=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Z=K.join(","),Q="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,tt=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?function(t){return"true"===t.contentEditable}(t)?0:"AUDIO"!==t.nodeName&&"VIDEO"!==t.nodeName&&"DETAILS"!==t.nodeName||null!==t.getAttribute("tabindex")?t.tabIndex:0:e},et=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},nt=function(t){return"INPUT"===t.tagName},it=function(t){return function(t){return nt(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||t.ownerDocument,i=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=i(window.CSS.escape(t.name));else try{e=i(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var o=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!o||o===t}(t)},ot=function(t,e){return!(e.disabled||function(t){return nt(t)&&"hidden"===t.type}(e)||function(t,e){if("hidden"===getComputedStyle(t).visibility)return!0;var n=Q.call(t,"details>summary:first-of-type")?t.parentElement:t;if(Q.call(n,"details:not([open]) *"))return!0;if(e&&"full"!==e){if("non-zero-area"===e){var i=t.getBoundingClientRect(),o=i.width,r=i.height;return 0===o&&0===r}}else for(;t;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}(e,t.displayCheck)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(nt(t)||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||"BUTTON"===t.tagName)for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var i=e.children.item(n);if("LEGEND"===i.tagName)return!i.contains(t)}return!0}e=e.parentElement}return!1}(e))},rt=function(t,e){return!(!ot(t,e)||it(e)||tt(e)<0)},at=function(t,e){var n=[],i=[],o=function(t,e,n){var i=Array.prototype.slice.apply(t.querySelectorAll(Z));return e&&Q.call(t,Z)&&i.unshift(t),i.filter(n)}(t,(e=e||{}).includeContainer,rt.bind(null,e));return o.forEach((function(t,e){var o=tt(t);0===o?n.push(t):i.push({documentOrder:e,tabIndex:o,node:t})})),i.sort(et).map((function(t){return t.node})).concat(n)},st=K.concat("iframe").join(","),ct=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==Q.call(t,st)&&ot(e,t)};
/*!
	* focus-trap 6.7.1
	* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
	*/
function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dt,pt=(dt=[],{activateTrap:function(t){if(dt.length>0){var e=dt[dt.length-1];e!==t&&e.pause()}var n=dt.indexOf(t);-1===n||dt.splice(n,1),dt.push(t)},deactivateTrap:function(t){var e=dt.indexOf(t);-1!==e&&dt.splice(e,1),dt.length>0&&dt[dt.length-1].unpause()}}),ft=function(t){return setTimeout(t,0)},ht=function(t,e){var n=-1;return t.every((function(t,i){return!e(t)||(n=i,!1)})),n},vt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return"function"==typeof t?t.apply(void 0,n):t},gt=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},bt=function(t,e){var n,i=(null==e?void 0:e.document)||document,o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),r={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(t,e,n){return t&&void 0!==t[e]?t[e]:o[n||e]},s=function(t){return!(!t||!r.containers.some((function(e){return e.contains(t)})))},c=function(t){var e=o[t];if("function"==typeof e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e=e.apply(void 0,r)}if(!e){if(void 0===e||!1===e)return e;throw new Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var s=e;if("string"==typeof e&&!(s=i.querySelector(e)))throw new Error("`".concat(t,"` as selector refers to no known node"));return s},u=function(){var t=c("initialFocus");if(!1===t)return!1;if(void 0===t)if(s(i.activeElement))t=i.activeElement;else{var e=r.tabbableGroups[0];t=e&&e.firstTabbableNode||c("fallbackFocus")}if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t},l=function(){if(r.tabbableGroups=r.containers.map((function(t){var e=at(t);if(e.length>0)return{container:t,firstTabbableNode:e[0],lastTabbableNode:e[e.length-1]}})).filter((function(t){return!!t})),r.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function t(e){!1!==e&&e!==i.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!o.preventScroll}),r.mostRecentlyFocusedNode=e,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(e)&&e.select()):t(u()))},p=function(t){var e=c("setReturnFocus",t);return e||!1!==e&&t},f=function(t){var e=gt(t);s(e)||(vt(o.clickOutsideDeactivates,t)?n.deactivate({returnFocus:o.returnFocusOnDeactivate&&!ct(e)}):vt(o.allowOutsideClick,t)||t.preventDefault())},h=function(t){var e=gt(t),n=s(e);n||e instanceof Document?n&&(r.mostRecentlyFocusedNode=e):(t.stopImmediatePropagation(),d(r.mostRecentlyFocusedNode||u()))},v=function(t){if(function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}(t)&&!1!==vt(o.escapeDeactivates,t))return t.preventDefault(),void n.deactivate();(function(t){return"Tab"===t.key||9===t.keyCode})(t)&&function(t){var e=gt(t);l();var n=null;if(r.tabbableGroups.length>0){var i=ht(r.tabbableGroups,(function(t){return t.container.contains(e)}));if(i<0)n=t.shiftKey?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(t.shiftKey){var o=ht(r.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e===n}));if(o<0&&r.tabbableGroups[i].container===e&&(o=i),o>=0){var a=0===o?r.tabbableGroups.length-1:o-1;n=r.tabbableGroups[a].lastTabbableNode}}else{var s=ht(r.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e===n}));if(s<0&&r.tabbableGroups[i].container===e&&(s=i),s>=0){var u=s===r.tabbableGroups.length-1?0:s+1;n=r.tabbableGroups[u].firstTabbableNode}}}else n=c("fallbackFocus");n&&(t.preventDefault(),d(n))}(t)},g=function(t){if(!vt(o.clickOutsideDeactivates,t)){var e=gt(t);s(e)||vt(o.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())}},b=function(){if(r.active)return pt.activateTrap(n),r.delayInitialFocusTimer=o.delayInitialFocus?ft((function(){d(u())})):d(u()),i.addEventListener("focusin",h,!0),i.addEventListener("mousedown",f,{capture:!0,passive:!1}),i.addEventListener("touchstart",f,{capture:!0,passive:!1}),i.addEventListener("click",g,{capture:!0,passive:!1}),i.addEventListener("keydown",v,{capture:!0,passive:!1}),n},y=function(){if(r.active)return i.removeEventListener("focusin",h,!0),i.removeEventListener("mousedown",f,!0),i.removeEventListener("touchstart",f,!0),i.removeEventListener("click",g,!0),i.removeEventListener("keydown",v,!0),n};return(n={activate:function(t){if(r.active)return this;var e=a(t,"onActivate"),n=a(t,"onPostActivate"),o=a(t,"checkCanFocusTrap");o||l(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=i.activeElement,e&&e();var s=function(){o&&l(),b(),n&&n()};return o?(o(r.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(t){if(!r.active)return this;clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,y(),r.active=!1,r.paused=!1,pt.deactivateTrap(n);var e=a(t,"onDeactivate"),i=a(t,"onPostDeactivate"),o=a(t,"checkCanReturnFocus");e&&e();var s=a(t,"returnFocus","returnFocusOnDeactivate"),c=function(){ft((function(){s&&d(p(r.nodeFocusedBeforeActivation)),i&&i()}))};return s&&o?(o(p(r.nodeFocusedBeforeActivation)).then(c,c),this):(c(),this)},pause:function(){return r.paused||!r.active||(r.paused=!0,y()),this},unpause:function(){return r.paused&&r.active?(r.paused=!1,l(),b(),this):this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return r.containers=e.map((function(t){return"string"==typeof t?i.querySelector(t):t})),r.active&&l(),this}}).updateContainerElements(t),n},yt=function(t){var e=t.target,n=t.escToClose,i=t.clickOutsideToClose,o=!l.window.Lusift.activeGuideID,r=bt(e,{delayInitialFocus:!1,escapeDeactivates:!o&&n,clickOutsideDeactivates:!o&&i});return r.activate(),r};function mt(t,e){return 0===e?t:function(i){clearTimeout(n),n=setTimeout((function(){t(i)}),e)};var n}var wt=function(){function t(t){this.activeSteps=[],d("guide constructor"),d(h());var e=h()[t],n=Object.assign({},e);if(delete n.trackingState,this.guideData=n,d("%c Welcome to guide: "+(this.guideData.name||this.guideData.id),"background: #222; color: #bada55"),!e.trackingState){var i=this.generateNewTrackingState();this.setTrackingState(i)}}return t.prototype.generateNewTrackingState=function(){var t={currentStepIndex:0,finished:!1,prematurelyClosed:!1,asyncSteps:{},enabled:!1};return this.guideData.steps.forEach((function(e){"async"in e&&e.async&&"hotspot"===e.type&&(t.asyncSteps[e.index]={toOpen:!1})})),t},t.prototype.start=function(){var t=this.getTrackingState(),e=t.finished,n=t.prematurelyClosed;this.removeIllegalSteps(),this.attemptToStartAsyncSteps(),e||n?f("Guide is already finished or closed"):this.attemptToShowActiveStep()},t.prototype.removeAllActiveSteps=function(){this.activeSteps.forEach((function(t){var e=t.type;t.target;var n=t.instance;t.async&&"hotspot"===e&&n.removeResizeObservers(),n.remove()})),this.activeSteps=[]},t.prototype.reRenderStepElements=function(){d("re-render step elements"),this.removeAllActiveSteps(),this.start()},t.prototype.attemptToShowActiveStep=function(){var t,e=this.getTrackingState().currentStepIndex,n=this.guideData.steps;e--;do{var i=n[++e],o=n[e],r=o.target,a=o.type,s=!1;"async"in i&&(s=i.async);var c=C({target:r,type:a});(t=s&&"hotspot"===a)&&O(e,!0),c&&!this.isStepAlreadyActive(e)&&this.activeSteps.push({index:e,instance:J(n[e],this.guideData.id),target:r,type:a,async:s})}while(t);var u=this.getTrackingState();u.currentStepIndex=e,this.setTrackingState(u)},t.prototype.isStepAlreadyActive=function(t){return this.activeSteps.some((function(e){return e.index===t}))},t.prototype.attemptToStartAsyncSteps=function(){var t=this,e=this.guideData.steps;e.forEach((function(n){var i=n.type,o=n.index,r=n.target,a=!1;if("async"in n&&(a=n.async),a&&"hotspot"===i&&C({target:r,type:i})&&t.getTrackingState().asyncSteps[o].toOpen){if(d("Step "+o+": target path and element matched. toOpen is true"),t.isStepAlreadyActive(o))return p("Step "+o+" is already active");t.activeSteps.push({index:o,instance:J(e[o],t.guideData.id),target:r,type:i,async:a})}}))},t.prototype.removeIllegalSteps=function(){this.activeSteps=this.activeSteps.filter((function(t){var e=t.type,n=t.target,i=t.instance,o=t.async;return!!C({target:n,type:e})||(o&&"hotspot"===e&&i.removeResizeObservers(),i.remove(),!1)}))},t.prototype.setTrackingState=function(t){var n,i=h();v(e.__assign(e.__assign({},i),((n={})[this.guideData.id]=e.__assign(e.__assign({},i[this.guideData.id]),{trackingState:t}),n)))},t.prototype.getTrackingState=function(){return h()[this.guideData.id].trackingState},t.prototype.clearTrackingState=function(){this.setTrackingState(void 0)},t.prototype.setStep=function(t){var e=this.getTrackingState();if(t<0)return p("Step index can't be less than 0");t+1>this.guideData.steps.length?(e.finished=!0,this.setTrackingState(e),d("guide finished")):(e.currentStepIndex=t,this.setTrackingState(e),this.start())},t.prototype.close=function(){var t=this.getTrackingState();t.currentStepIndex+1===this.guideData.steps.length?t.finished=!0:t.prematurelyClosed=!0,this.setTrackingState(t),this.removeAllActiveSteps(),l.window.Lusift.activeGuide=null,d("guide closed"),"function"==typeof l.window.Lusift.onClose&&l.window.Lusift.onClose(),l.window.Lusift.disable(this.guideData.id)},t.prototype.closeCurrentStep=function(){var t=this.getTrackingState().currentStepIndex,e=this.activeSteps.find((function(e){return e.index===t}));e?(e.instance.remove(),this.activeSteps=this.activeSteps.filter((function(e){return e.index!==t}))):p("There's no active step to close")},t.prototype.nextStep=function(){var t=this.getTrackingState().currentStepIndex+1;if(t+1>this.guideData.steps.length)return f("No new steps");this.closeCurrentStep(),this.setStep(t),"function"==typeof l.window.Lusift.onNext&&l.window.Lusift.onNext()},t.prototype.prevStep=function(){for(var t=this.getTrackingState().currentStepIndex;t>-2;){t--;var e=this.guideData.steps[t];if(!e)break;var n=!1;if("async"in e&&(n=e.async),!("hotspot"===e.type&&n))break}if(t<0)return f("No previous steps");this.closeCurrentStep(),this.setStep(t);var i=l.window.Lusift;"function"==typeof i.onPrev&&i.onPrev()},t}(),xt={exports:{}};!function(t,e){var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",r="[object Array]",a="[object Boolean]",s="[object Date]",c="[object Error]",l="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object Promise]",v="[object RegExp]",g="[object Set]",b="[object String]",y="[object Symbol]",m="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",_=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[o]=k[r]=k[w]=k[a]=k[x]=k[s]=k[c]=k[l]=k[d]=k[p]=k[f]=k[v]=k[g]=k[b]=k[m]=!1;var O="object"==typeof u&&u&&u.Object===Object&&u,E="object"==typeof self&&self&&self.Object===Object&&self,T=O||E||Function("return this")(),C=e&&!e.nodeType&&e,L=C&&t&&!t.nodeType&&t,I=L&&L.exports===C,j=I&&O.process,A=function(){try{return j&&j.binding&&j.binding("util")}catch(t){}}(),D=A&&A.isTypedArray;function P(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function N(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function z(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var G,B,R,H=Array.prototype,F=Function.prototype,M=Object.prototype,q=T["__core-js_shared__"],U=F.toString,W=M.hasOwnProperty,V=(G=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",$=M.toString,X=RegExp("^"+U.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=I?T.Buffer:void 0,J=T.Symbol,K=T.Uint8Array,Z=M.propertyIsEnumerable,Q=H.splice,tt=J?J.toStringTag:void 0,et=Object.getOwnPropertySymbols,nt=Y?Y.isBuffer:void 0,it=(B=Object.keys,R=Object,function(t){return B(R(t))}),ot=At(T,"DataView"),rt=At(T,"Map"),at=At(T,"Promise"),st=At(T,"Set"),ct=At(T,"WeakMap"),ut=At(Object,"create"),lt=zt(ot),dt=zt(rt),pt=zt(at),ft=zt(st),ht=zt(ct),vt=J?J.prototype:void 0,gt=vt?vt.valueOf:void 0;function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}function xt(t){var e=this.__data__=new yt(t);this.size=e.size}function _t(t,e){var n=Rt(t),i=!n&&Bt(t),o=!n&&!i&&Ht(t),r=!n&&!i&&!o&&Wt(t),a=n||i||o||r,s=a?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],c=s.length;for(var u in t)!e&&!W.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Nt(u,c))||s.push(u);return s}function St(t,e){for(var n=t.length;n--;)if(Gt(t[n][0],e))return n;return-1}function kt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":tt&&tt in Object(t)?function(t){var e=W.call(t,tt),n=t[tt];try{t[tt]=void 0;var i=!0}catch(t){}var o=$.call(t);i&&(e?t[tt]=n:delete t[tt]);return o}(t):function(t){return $.call(t)}(t)}function Ot(t){return Ut(t)&&kt(t)==o}function Et(t,e,n,i,u){return t===e||(null==t||null==e||!Ut(t)&&!Ut(e)?t!=t&&e!=e:function(t,e,n,i,u,l){var h=Rt(t),m=Rt(e),_=h?r:Pt(t),S=m?r:Pt(e),k=(_=_==o?f:_)==f,O=(S=S==o?f:S)==f,E=_==S;if(E&&Ht(t)){if(!Ht(e))return!1;h=!0,k=!1}if(E&&!k)return l||(l=new xt),h||Wt(t)?Lt(t,e,n,i,u,l):function(t,e,n,i,o,r,u){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!r(new K(t),new K(e)));case a:case s:case p:return Gt(+t,+e);case c:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case d:var l=N;case g:var f=1&i;if(l||(l=z),t.size!=e.size&&!f)return!1;var h=u.get(t);if(h)return h==e;i|=2,u.set(t,e);var m=Lt(l(t),l(e),i,o,r,u);return u.delete(t),m;case y:if(gt)return gt.call(t)==gt.call(e)}return!1}(t,e,_,n,i,u,l);if(!(1&n)){var T=k&&W.call(t,"__wrapped__"),C=O&&W.call(e,"__wrapped__");if(T||C){var L=T?t.value():t,I=C?e.value():e;return l||(l=new xt),u(L,I,n,i,l)}}if(!E)return!1;return l||(l=new xt),function(t,e,n,i,o,r){var a=1&n,s=It(t),c=s.length,u=It(e).length;if(c!=u&&!a)return!1;var l=c;for(;l--;){var d=s[l];if(!(a?d in e:W.call(e,d)))return!1}var p=r.get(t);if(p&&r.get(e))return p==e;var f=!0;r.set(t,e),r.set(e,t);var h=a;for(;++l<c;){var v=t[d=s[l]],g=e[d];if(i)var b=a?i(g,v,d,e,t,r):i(v,g,d,t,e,r);if(!(void 0===b?v===g||o(v,g,n,i,r):b)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var y=t.constructor,m=e.constructor;y==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(f=!1)}return r.delete(t),r.delete(e),f}(t,e,n,i,u,l)}(t,e,n,i,Et,u))}function Tt(t){return!(!qt(t)||function(t){return!!V&&V in t}(t))&&(Ft(t)?X:_).test(zt(t))}function Ct(t){if(n=(e=t)&&e.constructor,i="function"==typeof n&&n.prototype||M,e!==i)return it(t);var e,n,i,o=[];for(var r in Object(t))W.call(t,r)&&"constructor"!=r&&o.push(r);return o}function Lt(t,e,n,i,o,r){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var u=r.get(t);if(u&&r.get(e))return u==e;var l=-1,d=!0,p=2&n?new wt:void 0;for(r.set(t,e),r.set(e,t);++l<s;){var f=t[l],h=e[l];if(i)var v=a?i(h,f,l,e,t,r):i(f,h,l,t,e,r);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!P(e,(function(t,e){if(a=e,!p.has(a)&&(f===t||o(f,t,n,i,r)))return p.push(e);var a}))){d=!1;break}}else if(f!==h&&!o(f,h,n,i,r)){d=!1;break}}return r.delete(t),r.delete(e),d}function It(t){return function(t,e,n){var i=e(t);return Rt(t)?i:function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}(i,n(t))}(t,Vt,Dt)}function jt(t,e){var n,i,o=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function At(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Tt(n)?n:void 0}bt.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(ut){var i=e[t];return i===n?void 0:i}return W.call(e,t)?e[t]:void 0},bt.prototype.has=function(t){var e=this.__data__;return ut?void 0!==e[t]:W.call(e,t)},bt.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=ut&&void 0===e?n:e,this},yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(t){var e=this.__data__,n=St(e,t);return!(n<0)&&(n==e.length-1?e.pop():Q.call(e,n,1),--this.size,!0)},yt.prototype.get=function(t){var e=this.__data__,n=St(e,t);return n<0?void 0:e[n][1]},yt.prototype.has=function(t){return St(this.__data__,t)>-1},yt.prototype.set=function(t,e){var n=this.__data__,i=St(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(rt||yt),string:new bt}},mt.prototype.delete=function(t){var e=jt(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return jt(this,t).get(t)},mt.prototype.has=function(t){return jt(this,t).has(t)},mt.prototype.set=function(t,e){var n=jt(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,n),this},wt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.clear=function(){this.__data__=new yt,this.size=0},xt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof yt){var i=n.__data__;if(!rt||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(i)}return n.set(t,e),this.size=n.size,this};var Dt=et?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var a=t[n];e(a,n,t)&&(r[o++]=a)}return r}(et(t),(function(e){return Z.call(t,e)})))}:function(){return[]},Pt=kt;function Nt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||S.test(t))&&t>-1&&t%1==0&&t<e}function zt(t){if(null!=t){try{return U.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(ot&&Pt(new ot(new ArrayBuffer(1)))!=x||rt&&Pt(new rt)!=d||at&&Pt(at.resolve())!=h||st&&Pt(new st)!=g||ct&&Pt(new ct)!=m)&&(Pt=function(t){var e=kt(t),n=e==f?t.constructor:void 0,i=n?zt(n):"";if(i)switch(i){case lt:return x;case dt:return d;case pt:return h;case ft:return g;case ht:return m}return e});var Bt=Ot(function(){return arguments}())?Ot:function(t){return Ut(t)&&W.call(t,"callee")&&!Z.call(t,"callee")},Rt=Array.isArray;var Ht=nt||function(){return!1};function Ft(t){if(!qt(t))return!1;var e=kt(t);return e==l||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Mt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function qt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ut(t){return null!=t&&"object"==typeof t}var Wt=D?function(t){return function(e){return t(e)}}(D):function(t){return Ut(t)&&Mt(t.length)&&!!k[kt(t)]};function Vt(t){return null!=(e=t)&&Mt(e.length)&&!Ft(e)?_t(t):Ct(t);var e}t.exports=function(t,e){return Et(t,e)}}(xt,xt.exports);var _t=xt.exports,St=function(){},kt=new(function(){function t(){this.render=St,this.activeGuide=null,this.progress=0,this.next=St,this.prev=St,this.close=St,this.goto=St,d("%c Lusift constructor! ","background: #222; color: #bada55"),g(h())||v({}),function(){if(void 0!==l.document){var t=l.document.createElement("style");t.type="text/css",t.setAttribute("lusift-default",""),t.textContent=".lusift button{background:#11999e;border-radius:6px;color:#fff;font-weight:700;padding:.3rem .45rem}.lusift button:focus{outline:1px solid #333}.lusift .tooltip button{background-color:#11999e;border-radius:8px;color:#fff;font-size:.75rem;font-weight:700;padding:.2rem .35rem}.lusift .modal button{font-size:1.1rem;padding:.45rem .75rem}.lusift h1,.lusift h2,.lusift h3{text-align:center}.lusift .closeX{background-color:transparent;border:none;font-weight:400}.lusift .modal h1,.lusift .modal h2,.lusift .modal h3,.lusift .modal p{margin:0 0 .85rem}.lusift .modal h1,.lusift .modal h2,.lusift .modal h3{line-height:1.2}.lusift .tooltip section.close-btn{border-radius:inherit;display:flex;justify-content:flex-end;margin:-4px!important}.lusift .tooltip .closeX{background:transparent;border-radius:2px;color:#666;font-size:1rem;font-weight:400;margin:-3px -5px 2px!important;padding:0 2px}.lusift .tooltip section.nav-buttons{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:4px!important}.lusift .tooltip .nav-buttons .dismiss-link{color:#777;font-size:.8rem;font-style:italic;margin-right:.4rem}.lusift .tooltip .nav-buttons .next,.nav-buttons .prev{background-color:#11999e;border-radius:8px;color:#fff;font-size:.75rem;font-weight:700;padding:.2rem .35rem}.lusift .tooltip .nav-buttons .prev{margin-right:.3rem}.tippy-box{z-index:999999}.lusift .tooltip{display:block;font-size:1rem;font-weight:700;padding:5px 9px;z-index:99999}.lusift .tooltip>*{margin:3px 6px}.lusift .tooltip .body-content{margin-top:0!important;min-width:80px;white-space:nowrap}.lusift .modal{background:#fff;display:flex;flex-direction:column;left:50%;opacity:1;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:99999}.lusift .modal section.close-btn{display:flex;justify-content:flex-end}.lusift .modal .closeX{background:transparent;border-radius:2px;color:#666;font-size:1.45rem;font-weight:400;margin-bottom:0!important;margin-right:.2rem;padding:0 2px}.lusift .modal .body-content{background:#fff;color:#111;flex-grow:1;max-height:500px;max-width:600px;min-height:30px;min-width:200px;overflow-x:none;overflow-y:auto;padding:3px 15px 8px;white-space:nowrap}.lusift-progress{-webkit-appearance:none;display:block;margin:0;margin-top:0;padding:0;width:100%}.modal .lusift-progress{margin-top:0}.lusift-progress::-webkit-progress-bar{initial:none;background-color:transparent}.lusift-progress::-webkit-progress-value{initial:none}.lusift-beacon{-webkit-animation-delay:1s;animation-delay:1s;border-radius:50%;cursor:pointer;pointer-events:auto;position:absolute}.lusift .hotspot-tooltip{display:block;font-size:1rem;font-weight:700;padding:5px 9px;white-space:nowrap}.lusift .hotspot-tooltip>*{margin:3px 6px}.lusift .hotspot-tooltip .body-content{margin-top:0!important;min-width:80px}",t.textContent+="\n\n    /* from dynamic javascript variables*/\n\n    .lusift-progress {\n      height: 3px;\n    }\n    .lusift-progress::-webkit-progress-bar {\n      border-radius: 4px; /*border-radius of tooltip*/\n    }\n    .modal .lusift-progress::-webkit-progress-bar {\n      border-radius: 4px; /*border-radius of modal*/\n    }\n    .lusift-progress::-webkit-progress-value {\n      background-color: #17a3a8; /*color of progress bar*/\n    }\n  ";var e=l.document.createElement("style");e.type="text/css",e.setAttribute("lusift-custom","");var n=l.document.createElement("style");n.type="text/css",n.setAttribute("lusift-custom-css","");var i=l.document.createDocumentFragment();i.appendChild(t),i.appendChild(e),i.appendChild(n),l.document.head.appendChild(i)}}()}return t.prototype.showEnabledContent=function(){var t=h(),e=Object.keys(t).find((function(e){var n=t[e].trackingState;return!!n&&n.enabled}));e&&this.showContent(e)},t.prototype.enable=function(t){var e=h();if(!Object.keys(e).some((function(e){return e===t})))return f("Content of id '"+t+"' doesn't exist");Object.keys(e).forEach((function(n){e[n].trackingState&&(e[n].trackingState.enabled=n===t)})),v(e),this.showContent(t)},t.prototype.disable=function(t){var e=h();if(!Object.keys(e).some((function(e){return e===t})))return f("Content of id '"+t+"' doesn't exist");e[t].trackingState.enabled=!1,v(e)},t.prototype.hasGuideDataChanged=function(t){var n=h();if(!n[t.id])return!0;var i=n[t.id];delete i.trackingState;var o=e.__assign({},t);return delete o.onNext,delete o.onClose,delete o.onPrev,!_t(i,o)},t.prototype.reconcileContentWithLocalState=function(){var t=this,e={},n=JSON.parse(JSON.stringify(this.content));Object.keys(this.content).forEach((function(t){var e=n[t].data,i=e.id,o=e.name,r=void 0===o?"":o,a=e.description,s=void 0===a?"":a,c=e.steps,u=e.onNext,l=e.onPrev,d=e.onClose,p=e.doNotResetTrackerOnContentChange,f=void 0!==p&&p,h=c.map((function(t){return"tooltip"===t.type||"modal"===t.type?delete t.data.bodyContent:"hotspot"===t.type&&delete t.tip.data.bodyContent,t}));n[t].data={id:i,name:r,description:s,steps:h,onNext:u,onPrev:l,onClose:d,doNotResetTrackerOnContentChange:f}})),Object.keys(n).forEach((function(i){if("guide"===n[i].type){var o=n[i].data;if(t.hasGuideDataChanged(o)&&!o.doNotResetTrackerOnContentChange)d("guide with id '"+i+"' changed, tracking state reset."),e[o.id]=o;else{var r=h()[o.id];e[o.id]=r}}})),v(e)},t.prototype.setContent=function(t){var e,n,i=this;if(!w(t))return f("Content data type is invalid");this.content=t,Object.keys(t).forEach((function(e){var n=t[e].data,o=n.id,r=n.name,a=void 0===r?"":r,s=n.description,c=void 0===s?"":s,u=n.steps,l=n.onNext,d=n.onPrev,p=n.onClose,f=n.doNotResetTrackerOnContentChange,h=void 0!==f&&f;i.content[e].data={id:o,name:a,description:c,steps:u,onNext:l,onPrev:d,onClose:p,doNotResetTrackerOnContentChange:h}})),this.activeGuide&&(e=this.hasGuideDataChanged(this.content[this.activeGuide.id].data),n=Object.keys(this.content).includes(this.activeGuide.id)),this.reconcileContentWithLocalState(),this.activeGuide&&(!n||n&&e)&&(this.activeGuide.instance.removeAllActiveSteps(),this.activeGuide=null)},t.prototype.clearContent=function(){v({}),this.content={}},t.prototype.refresh=function(){var t=this;this.activeGuide?l.window.setTimeout((function(){t.activeGuide.instance.start(),d("Lusift refreshed")}),0):(p("No active guide instance to refresh"),this.showEnabledContent())},t.prototype.showContent=function(t){var e=this;if(!this.content)return f("Content not set, pass valid content data to setContent()");if(!this.content[t])return f("Content with id of "+t+" doesn't exist");if(this.activeGuide){var n=this.activeGuide,i=n.instance;if(n.id===t)return this.activeGuide.instance.reRenderStepElements(),f(t+" is already active");i.close()}l.window.setTimeout((function(){var n=new wt(t);e.activeGuide={id:t,instance:n},n.start(),e.prepareHooks()}),500)},t.prototype.prepareHooks=function(){var t=this.activeGuide,e=t.instance,n=t.id;this.next=e.nextStep.bind(e),this.prev=e.prevStep.bind(e),this.close=e.close.bind(e),this.goto=e.setStep.bind(e);var i=this.content[n].data,o=i.onNext,r=i.onPrev,a=i.onClose;this.onNext=o,this.onPrev=r,this.onClose=a},t.prototype.setGlobalStyle=function(t){if("string"!=typeof t)return f("Invalid style passed to setGlobalStyle()");var e=l.document.querySelector("style[lusift-custom-css]");if(!e)return f("Style tag for custom-css not found. Report to Lusift's github.");e.textContent=t},t.prototype.getTrackingState=function(){return this.activeGuide?h()[this.activeGuide.id].trackingState:(p("No active guide"),null)},t.prototype.devShowStep=function(t,e){if(this.activeGuide)return p("Can't enable dev mode because a guide is active using showContent()");if(!this.content)return p("Content not set, pass valid content object to setContent() before running devShowStep()");if(this.next=this.prev=this.close=this.showContent=function(){f("Can't run this method in dev mode")},this.content[t]){var n=this.content[t].data.steps,i=n[e],o=i.target,r=i.type;if(!C({target:o,type:r}))return p("Display criteria for step do not match. Navigate to the right target page and make sure that the target element is in the visible screen, then reload page.");n[e]?(J(n[e],t),d("%c Showing step "+e+" of "+t+" in dev mode","background: #222; color: #bada55")):f("Guide '"+t+"' doesn't have a step "+e)}else f("Guide with id '"+t+"' doesn't exist")},t}());return void 0!==l.window&&(l.window.addEventListener("error",(function(t){}),!0),kt.render=function(t,e,n){"function"==typeof t?function(t,e,n){var i=l.document.querySelector(e);c.default.render(r.default.createElement(t,null),i),n&&n()}(t,e,n):function(t,e,n){document.querySelector(e).innerHTML=t,n&&n()}(t,e,n)},l.window.Lusift=kt),kt}));
//# sourceMappingURL=index.js.map
