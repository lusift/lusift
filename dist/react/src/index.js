!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("tslib"),require("@floating-ui/dom"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","tslib","@floating-ui/dom","react-dom"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["Lusift-react"]=e(t.React,t.tslib,t.require$$1,t.ReactDOM)}(this,(function(t,e,n,i){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=o(t),s=o(e),a=o(n),c=o(i),u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d="undefined"!=typeof window?window:void 0!==u?u:"undefined"!=typeof self?self:{},l=console.log;function p(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];console.warn.apply(console,e.__spreadArray(["Lusift: "+t],n,!1))}function f(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];console.error.apply(console,e.__spreadArray(["Lusift: "+t],n,!1))}d.window||f("window is undefined");var h=function(){try{var t=d.window.localStorage.getItem("lusift_state");if(!t)return;return JSON.parse(t)}catch(t){return}},v=function(t){try{var e=JSON.stringify(t);d.window.localStorage.setItem("lusift_state",e)}catch(t){}};function g(t){return t instanceof Object&&t.constructor===Object}function b(t){return g(t)||void 0===t}function y(t){var e=["bottom","top","right","left","auto"];return e.forEach((function(t){e.push(t+"-start"),e.push(t+"-end")})),g(t)&&"boolean"==typeof t.arrow&&(!t.offset||t.offset instanceof Object&&2===t.offset.length)&&(!t.actions||g(t.actions))&&e.includes(t.placement)&&("string"==typeof t.contentBody||!t.contentBody&&"boolean"!=typeof t.contentBody)&&b(t.progressOn)&&b(t.backdrop)}function m(t){return g(t)&&"number"==typeof t.index&&["tooltip","hotspot","modal"].includes(t.type)&&function(t,e){var n="string"==typeof t.elementSelector&&!!t.elementSelector;return g(t)&&(n||"modal"===e)&&g(t.path)&&"string"==typeof t.path.comparator&&["is","contains","endsWith","startsWith"].includes(t.path.comparator)&&"string"==typeof t.path.value}(t.target,t.type)&&(function(t){return y(t.data)&&b(t.styleProps)&&"tooltip"===t.type&&y(t.data)}(t)||function(t){return"hotspot"===t.type}(t)||function(t){return"modal"===t.type&&g(t.data)&&b(t.closeButton)}(t))}function w(t){var e=["guide"];return g(t)&&Object.values(t).every((function(t){return typeof e.includes(t.type)&&function(t){return g(t)&&"string"==typeof t.id&&!!t.id&&"string"==typeof t.name&&"string"==typeof t.description&&t.steps instanceof Object&&t.steps.hasOwnProperty("length")&&t.steps.every(m)}(t.data)}))}function _(t,e){return t=Object.assign({},t),e=Object.assign({},e),Object.keys(e).forEach((function(n){try{g(e[n])?t[n]=_(t[n],e[n]):t[n]=e[n]}catch(i){t[n]=e[n]}})),t}var x=function(t){var e="";return Object.keys(t).forEach((function(n){e+=n.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))+": "+t[n]+" !important;\n"})),e},S=function(t){var e=t.guideID,n=t.index;return"lusift--g-"+e+"--"+t.type+"-"+n},k=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var o=i[n];t.call(e,o[1],o[0])}},e}()}(),E="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,O="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),T="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(O):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var C=["top","right","bottom","left","width","height","size","weight"],L="undefined"!=typeof MutationObserver,I=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,o=0;function r(){n&&(n=!1,t()),i&&a()}function s(){T(r)}function a(){var t=Date.now();if(n){if(t-o<2)return;i=!0}else n=!0,i=!1,setTimeout(s,e);o=t}return a}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){E&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),L?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){E&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;C.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),A=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},D=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||O},j=R(0,0,0,0);function z(t){return parseFloat(t)||0}function P(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+z(t["border-"+n+"-width"])}),0)}function N(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return j;var i=D(t).getComputedStyle(t),o=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var o=i[n],r=t["padding-"+o];e[o]=z(r)}return e}(i),r=o.left+o.right,s=o.top+o.bottom,a=z(i.width),c=z(i.height);if("border-box"===i.boxSizing&&(Math.round(a+r)!==e&&(a-=P(i,"left","right")+r),Math.round(c+s)!==n&&(c-=P(i,"top","bottom")+s)),!function(t){return t===D(t).document.documentElement}(t)){var u=Math.round(a+r)-e,d=Math.round(c+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(d)&&(c-=d)}return R(o.left,o.top,a,c)}var G="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof D(t).SVGGraphicsElement}:function(t){return t instanceof D(t).SVGElement&&"function"==typeof t.getBBox};function B(t){return E?G(t)?function(t){var e=t.getBBox();return R(0,0,e.width,e.height)}(t):N(t):j}function R(t,e,n,i){return{x:t,y:e,width:n,height:i}}var M=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=R(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=B(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),H=function(t,e){var n,i,o,r,s,a,c,u=(i=(n=e).x,o=n.y,r=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),A(c,{x:i,y:o,width:r,height:s,top:o,right:i+r,bottom:s+o,left:i}),c);A(this,{target:t,contentRect:u})},F=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new k,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof D(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new M(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof D(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new H(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),q="undefined"!=typeof WeakMap?new WeakMap:new k,W=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=I.getInstance(),i=new F(e,n,this);q.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){W.prototype[t]=function(){var e;return(e=q.get(this))[t].apply(e,arguments)}}));var U=void 0!==O.ResizeObserver?O.ResizeObserver:W,V=function(t,e){var n=new U((function(){return e()}));return n.observe(t),n},$=function(t){var e=d.document.documentElement,n=d.document.body,i=d.window.pageYOffset||e.scrollTop||n.scrollTop,o=d.window.pageXOffset||e.scrollLeft||n.scrollLeft,r=t.getBoundingClientRect();return{top:r.top+i,left:r.left+o,right:r.left+o+r.width,bottom:r.top+i+r.height,height:r.height,width:r.width}},X=function(t,n){var i,o,r=h(),s=d.window.Lusift.activeGuide.id;v(e.__assign(e.__assign({},r),((i={})[s]=e.__assign(e.__assign({},r[s]),{trackingState:e.__assign(e.__assign({},r[s].trackingState),{asyncSteps:e.__assign(e.__assign({},r[s].trackingState.asyncSteps),(o={},o[t]={toOpen:n},o))})}),i)))},Y=function(t,e){return void 0===e&&(e=2),Math.round((t+Number.EPSILON)*Math.pow(10,e))/Math.pow(10,e)},J=function(t){var e,n=t.value,i=t.comparator,o=d.window.location,r=o.pathname+o.hash;switch(i){case"is":return r===n;case"contains":return r.includes(n);case"endsWith":return r.endsWith(n);case"startWith":return r.startsWith(n);case"regex":return e=r,new RegExp(n,"i").test(e);default:return!1}},K=function(t){var e,n=t.target,i=t.type,o=J(n.path);return"modal"!==i&&(o=o&&(e=n.elementSelector,Boolean(d.document.querySelector(e)))),o},Z="lusift-modal-overlay",Q="4px",tt="4px",et="#17a3a8",nt=function(){var t=h()[d.window.Lusift.activeGuide.id];if(!t)return"";if(!t){return'\n      <progress class="lusift-progress" aria-label="progressbar" max="100" value="66.66">\n        66.66%\n      </progress>\n    '}var e=t.steps[t.trackingState.currentStepIndex],n=t.progressBar||{},i=n.height,o=void 0===i?"3px":i,r=n.color,s=void 0===r?et:r,a=n.borderRadius;a||(a="modal"===e.type?e.styleProps&&e.styleProps.borderRadius||tt:e.styleProps&&e.styleProps.borderRadius||Q);var c=t.steps.filter((function(t){return!("hotspot"===t.type&&t.async)})),u=(c.findIndex((function(t){return t.index===e.index}))+1)/(c.length+1)*100;return"\n    <style>\n      .lusift-progress {\n        height: "+o+";\n      }\n      .lusift-progress::-webkit-progress-bar {\n        border-radius: "+a+"; /*border-radius of tooltip*/\n      }\n      .lusift-progress::-webkit-progress-value {\n        background-color: "+s+'; /*color of progress bar*/\n      }\n    </style>\n\n    <progress class="lusift-progress" aria-label="progressbar" max="100" value="'+u+'">\n      '+u+"%\n    </progress>\n    "},it=function(t,e){return t.disabled?'<div style="margin-top: 0.7rem"></div>':"\n    <style>\n      .lusift ."+e.toLowerCase()+" .closeX{\n        "+x(t.styleProps)+'\n      }\n    </style>\n\n    <section class="close-btn">\n      <button onclick="Lusift.close()" class="closeX close">&times;</button>\n    </section>\n  '},ot={exports:{}};!function(t,e){t.exports=function(t,e){function n(){return document.createElement("div")}function i(t){return{box:t.querySelector(".floating-ui-tooltip-box"),content:t.querySelector(".floating-ui-tooltip-content"),arrow:t.querySelector(".floating-ui-tooltip-arrow")||void 0}}function o(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd","oTransitionEnd"].forEach((function(e){t[i](e,n)}))}var r={top:"bottom",right:"left",bottom:"top",left:"right"},s=function(n,o,s,a,c,u){return t.__awaiter(void 0,void 0,void 0,(function(){var d,l,p,f,h,v,g,b,y,m,w,_,x,S,k,E,O,T,C,L,I,A,D,j,z,P,N,G,B,R,M,H,F,q,W,U;return t.__generator(this,(function(V){switch(V.label){case 0:return p=void 0!==(l=(d={}).toFlip)&&l,h=void 0===(f=d.toShift)||f,v=n.placement,g=n.hideOnReferenceHidden,b=n.offset,y=n.hideOnTooltipEscape,m=n.arrowSizeScale,w=n.resetPlacementOnUpdate,_=n.arrow,x=i(o),S=x.arrow,k=12*m,s?(E="auto"===v&&(c||w),O="auto"!==v&&p,T=h&&c,C={middleware:t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray(t.__spreadArray([e.offset({mainAxis:b[0],crossAxis:b[1]})],E?[e.autoPlacement()]:[],!0),T?[e.shift({padding:16})]:[],!0),O?[e.flip({fallbackPlacements:["right","left"],fallbackStrategy:"initialPlacement"})]:[],!0),_?[e.arrow({element:S,padding:2})]:[],!0),[e.size({apply:function(t){t.width,t.height,t.reference,t.floating}}),e.hide()],!1)},"auto"!==v&&(C.placement=v),[4,e.computePosition(s,o,C)]):[2];case 1:switch(L=V.sent(),I=L.x,A=L.y,D=L.placement,j=L.middlewareData,z=j.hide,P=z.referenceHidden,N=z.escaped,P&&c&&s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),j.arrow&&(G=j.arrow.x,B=j.arrow.y),R=0!==j.arrow.centerOffset,M=g&&P||y&&N||a?"hidden":"visible",o.setAttribute("data-state",M),Object.assign(o.style,{visibility:M,left:I+"px",top:A+"px"}),H=r[D.split("-")[0]],F=0,q=0,W=0,W=null!==G?G+k+"px":"",H){case"top":F=1/1.7,W=null!==G?G+k*F+"px":"";break;case"bottom":F=.5,W=null!==G?G+k*F+"px":"";break;case"left":F=.005,W=null!==G?G+"px":"",q=null!==B?B-k*F/2+"px":"";break;case"right":F=1.2,W=null!==G?G+"px":"",q=null!==B?B-k*F/2+"px":""}return q=null!==B?B-k*F/2+"px":"",q=null!==B?B+"px":"",Object.assign(S.style,((U={visibility:R?"hidden":"visible",left:W,top:q,right:"",bottom:""})[H]="-"+k*F+"px",U)),c?console.log("setting state after newlyShown"):console.log("setting state on update"),u({isShown:"visible"===M,fui:L}),[2,L]}}))}))},a={allowHTML:!0,content:"",arrow:!0,scrollIntoView:!1,transitionDuration:[300,250],offset:[10,0],hideOnClick:!0,onClickOutside:function(t,e){},onShow:function(t){},onHide:function(t){},onStateChange:function(t,e){},onRemove:function(){},placement:"top",resetPlacementOnUpdate:!1,hideOnTooltipEscape:!0,hideOnReferenceHidden:!0,showOnCreate:!0,maxWidth:350,updateDebounce:100,zIndex:99999,arrowSizeScale:1,updateOnEvents:"resize scroll"};function c(t,e){return 0===e?t:function(i){clearTimeout(n),n=setTimeout((function(){t(i)}),e)};var n}var u=function(){function r(t,e){var n,i=this;this.state={isShown:!1,isRemoved:!1,fui:void 0},this.toHideTooltip=!1,this.transitionDuration=0,this.clickHandler=function(t){i.state.isShown&&(i.tooltipElement.contains(t.target)||i.reference.contains(t.target)||i.props.onClickOutside&&i.props.onClickOutside(i,t),"target"===i.props.hideOnClick?t.target===i.reference&&i.hide():i.props.hideOnClick&&i.hide())},this.props=t,this.reference=e,window.tp=this,(n=document.createElement("style")).type="text/css",n.setAttribute("floating-ui-tooltip-default",""),n.textContent=".floating-ui-tooltip-root{--color:#fff;--border-color:#fefefe;--border-color:red;backface-visibility:hidden;background:var(--color);border-radius:6px;box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);box-shadow:0 0 20px 4px rgba(154,161,177,.15),0 4px 80px -8px rgba(36,40,47,.25),0 4px 4px -2px rgba(91,94,105,.15);display:flex;font-size:90%;line-height:0px;margin:0;max-width:calc(100vw - 10px);padding:0;position:absolute;transition-duration:.2s;transition-property:transform,visibility,opacity;transition-timing-function:cubic-bezier(.54,1.5,.38,1.11);z-index:9999}.floating-ui-tooltip-arrow{box-shadow:0 0 0 1px rgba(6,44,82,.1),0 2px 16px rgba(33,43,54,.08);height:14px;position:absolute;transform:translateX(-50%) rotate(45deg);width:14px;z-index:-1}.floating-ui-tooltip-box{border-radius:inherit;line-height:normal;margin:0;outline:0;position:relative}.floating-ui-tooltip-root[data-state=hidden]{opacity:0}.floating-ui-tooltip-root[data-state=visible]{opacity:1}.floating-ui-tooltip-content{background-color:#fff;border-radius:inherit;color:#111;padding:0;position:relative;z-index:2}.floating-ui-tooltip-arrow,.floating-ui-tooltip-root{background:var(--color)}",document.head.appendChild(n)}return r.prototype.hookEventListeners=function(){var t=this;this.debouncedUpdate=c(this.update.bind(this),this.props.updateDebounce),this.autoUpdateCleanup=e.autoUpdate(this.reference,this.tooltipElement,(function(){return t.debouncedUpdate(void 0)})),this.props.updateOnEvents.split(" ").forEach((function(e){window.addEventListener(e,(function(){return t.debouncedUpdate(void 0)}))})),window.addEventListener("click",this.clickHandler.bind(this))},r.prototype.updateTransitionDuration=function(t){this.transitionDuration=t,this.tooltipElement.style.transitionDuration=t+"ms"},r.prototype.create=function(){return t.__awaiter(this,void 0,void 0,(function(){var e,o,r,a,c;return t.__generator(this,(function(t){switch(t.label){case 0:return e=!this.props.showOnCreate,this.tooltipElement=(u=n(),d=n(),l=n(),p=n(),u.className="floating-ui-tooltip-root",d.className="floating-ui-tooltip-box",l.className="floating-ui-tooltip-content",p.className="floating-ui-tooltip-arrow",d.appendChild(l),d.appendChild(p),u.appendChild(d),l.innerHTML='\n    <div id="tooltip-container">\n    <h3>Default tooltip</h3>\n    </div>\n  ',d.setAttribute("role","tooltip"),u.setAttribute("data-state",""),Object.assign(u.style,{visibility:"hidden",left:"0px",top:"0px"}),u),this.updateTransitionDuration(this.props.transitionDuration[0]),o=i(this.tooltipElement).content,r=this.props,a=r.allowHTML,c=r.content,a?o.innerHTML=c:o.innerText=""+c,document.body.appendChild(this.tooltipElement),[4,s(this.props,this.tooltipElement,this.reference,e,!0,this.setState.bind(this))];case 1:return t.sent(),this.hookEventListeners(),[2]}var u,d,l,p}))}))},r.prototype.getState=function(){return this.state},r.prototype.setState=function(e){var n=this,i=void 0!==e.isShown&&e.isShown!==this.state.isShown;if(i&&e.isShown){var r=c(this.props.onShow,0);this.transitionDuration?function(t,e){function n(i){i.target===t&&(o(t,"remove",n),e(),console.log("transition end for event "+i))}o(t,"remove",n),o(t,"add",n)}(this.tooltipElement,(function(){r(n)})):r(this)}this.state=t.__assign(t.__assign({},this.state),e),i&&!e.isShown&&this.props.onHide(this)},r.prototype.update=function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return e=e||this.toHideTooltip||!1,[4,s(this.props,this.tooltipElement,this.reference,e,!1,this.setState.bind(this))];case 1:return t.sent(),[2]}}))}))},r.prototype.hide=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return this.toHideTooltip=!0,[4,this.update(!0)];case 1:return t.sent(),this.updateTransitionDuration(this.props.transitionDuration[0]),[2]}}))}))},r.prototype.show=function(){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return this.toHideTooltip=!1,[4,this.update(!1)];case 1:return t.sent(),this.updateTransitionDuration(this.props.transitionDuration[1]),[2]}}))}))},r.prototype.remove=function(){var t=this;this.tooltipElement.remove(),this.state={isShown:!1,isRemoved:!0,fui:void 0},this.autoUpdateCleanup(),window.removeEventListener("click",this.clickHandler.bind(this)),this.props.updateOnEvents.split(" ").forEach((function(e){window.removeEventListener(e,t.debouncedUpdate)})),this.props.onRemove()},r}();return function(e,n){return t.__awaiter(this,void 0,void 0,(function(){var i,o,r,s,c;return t.__generator(this,(function(d){switch(d.label){case 0:return i=n.placement||a.placement,o=n.transitionDuration||a.transitionDuration,r=n.offset||a.offset,console.log(n.offset),Object.keys(n).forEach((function(t){return void 0===n[t]&&delete n[t]})),s=t.__assign(t.__assign(t.__assign({},a),n),{placement:i,transitionDuration:o,offset:r}),[4,(c=new u(s,e)).create()];case 1:return d.sent(),[2,{props:c.props,reference:c.reference,getState:c.getState.bind(c),show:c.show.bind(c),hide:c.hide.bind(c),remove:c.remove.bind(c),update:c.update.bind(c)}]}}))}))}}(s.default,a.default)}(ot);var rt=ot.exports,st=function(t){return e.__awaiter(void 0,void 0,void 0,(function(){var n,i,o,r,s,a,c,u,d;return e.__generator(this,(function(e){return n=t.target,i=t.content,o=t.arrow,r=t.offset,s=t.placement,a=t.onShow,c=t.onHide,u=t.onClickOutside,d=t.scrollIntoView,[2,rt(n,{allowHTML:!0,zIndex:99999,hideOnClick:!1,onClickOutside:u,onShow:a,onHide:c,content:i,arrow:o,offset:r,placement:s,showOnCreate:!0,scrollIntoView:d})]}))}))},at=function(t){var n=t.data,i=t.target,o=t.styleProps,r=t.actions,s=t.uid,a=t.index,c=t.onShow,u=t.onHide,d=t.scrollIntoView;return e.__awaiter(void 0,void 0,void 0,(function(){var t,l,p,f,h,v,g,b,y;return e.__generator(this,(function(e){switch(e.label){case 0:return t=r.closeButton,l=r.navSection,p=n.arrow,f=n.placement,h=n.offset,v="\n    <style>\n      .tippy-box{\n        border-radius: 4px;\n        "+x(o)+'\n      }\n    </style>\n\n    <div class="lusift">\n      '+nt()+'\n      <div class="tooltip" id="tooltip-'+s+'">\n        '+it(t,"tooltip")+'\n        <section class="body-content">\n        </section>\n        '+function(t){var e=t.nextButton,n=t.prevButton,i=t.dismissLink;return"\n    <style>\n    .lusift .tooltip section.nav-buttons{\n      "+x(t.styleProps)+"\n    }\n    .lusift .tooltip .nav-buttons .next{\n      "+x(e.styleProps)+"\n    }\n    .lusift .tooltip .nav-buttons .prev{\n      "+x(n.styleProps)+'\n    }\n    </style>\n\n    <section class="nav-buttons">\n      '+(i.disabled?"":'\n        <button onclick="Lusift.close()" class="close dismiss-link">\n          skip this\n        </button>\n        ')+"\n      "+(n.disabled?"":'<button onclick="Lusift.prev()" class="prev lusift-button">Prev</button>')+"\n      "+(e.disabled?"":'<button onclick="Lusift.next()" class="next lusift-button">Next</button>')+"\n    </section>\n  "}(l)+"\n      </div>\n    <div>\n  ",[4,st({target:i,content:v,arrow:p,offset:h,placement:f,remove:function(){},onShow:c,onHide:u,scrollIntoView:d})];case 1:return g=e.sent(),b=window.Lusift,y=b.content[b.activeGuide.id].data.steps[a].data.bodyContent||'\n  <h3 style="font-weight: bold;">Default title</h3>\n  <p style="font-weight: normal;">Default tooltip content</p>\n',b.render(y,".lusift > .tooltip > .body-content",(function(){g.update()})),[2,g]}}))}))},ct={styleProps:{},closeButton:{styleProps:{},disabled:!1},navSection:{styleProps:{},nextButton:{text:"next",styleProps:{},disabled:!1},prevButton:{text:"prev",styleProps:{},disabled:!0},dismissLink:{text:"skip this",styleProps:{},disabled:!0}}},ut=function(t,e){var n=t.toString().substring(t.toString().indexOf(".")).length-1;-1==t.toString().indexOf(".")&&(n=0);var i=e.toString().substring(e.toString().indexOf(".")).length-1;-1==e.toString().indexOf(".")&&(i=0);var o=Math.min(n,i);return o>2&&(o=1),Y(t,o)===Y(e,o)};Object.fromEntries=function(t){return Object.assign.apply(Object,e.__spreadArray([{}],t.map((function(t){var e,n=t[0],i=t[1];return(e={})[n]=i,e})),!1))};var dt=function(){function t(t){var e=t.targetSelector,n=t.guideID,i=t.index,o=t.data;this.timers=[],this.overlaySelectorClass="lusift-backdrop-overlay",this.data={stageGap:5,opacity:"0.5",color:"#444"},this.toStopOverlay=!1,this.resizeObservers=[];var r,s=S({guideID:n,index:i,type:"backdrop"});this.stagedTargetClass=s+"__target",this.data=Object.assign({},this.data,(r=o,Object.fromEntries(Object.entries(r).filter((function(t){return t[0],void 0!==t[1]}))))),this.targetSelector=e,this.createOverlay(),this.focusTrap=Mt({target:[".lusift > .tooltip",this.targetSelector],escToClose:!1,clickOutsideToClose:!1}),this.resetBackdrop=this.resetBackdrop.bind(this),this.resizeObservers.push(V(d.document.querySelector("."+this.overlaySelectorClass),this.resetBackdrop)),this.resizeObservers.push(V(d.document.body,this.resetBackdrop))}return t.prototype.resetBackdrop=function(){if(this.toStopOverlay)return f("Lusift: This overlay instance should be removed");this.removeOverlay(),this.createOverlay()},t.prototype.createOverlay=function(){var t=this,n=d.document.querySelector(this.targetSelector),i=this.data.stageGap,o=function(){var t=$(d.document.documentElement),e=t.height,n=t.width,i=Math.max(n,d.document.body.scrollWidth,d.document.documentElement.scrollWidth,d.document.body.offsetWidth,d.document.documentElement.offsetWidth),o=Math.max(e,d.document.body.scrollHeight,d.document.documentElement.scrollHeight,d.document.body.offsetHeight,d.document.documentElement.offsetHeight);return{documentWidth:i,documentHeight:o}}(),r=o.documentHeight,s=o.documentWidth,a=$(n),c=d.document.createElement("div");c.id="hTop";var u=d.document.createElement("div");u.id="hBottom";var l=d.document.createElement("div");l.id="vLeft";var p=d.document.createElement("div");p.id="vRight";var f={opacity:"0.5",background:"#444",transition:"visibility 0.3s ease-in-out",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",zIndex:998,border:"1px solid transparent"};c.style.cssText=x(e.__assign(e.__assign({},f),{height:a.bottom-a.height-i+"px",width:a.right-a.left+2*i+"px",left:a.left-i+"px",bottom:a.top-i+"px"})),u.style.cssText=x(e.__assign(e.__assign({},f),{height:r-(a.top+a.height+i)+"px",width:a.right-a.left+2*i+"px",left:a.left-i+"px",top:a.bottom+i+"px"})),l.style.cssText=x(e.__assign(e.__assign({},f),{width:a.left-i+"px",height:r+"px",right:a.left-i+"px"})),p.style.cssText=x(e.__assign(e.__assign({},f),{width:s-(a.left+a.width)-i+"px",height:r+"px",left:a.right+i+"px"})),[c,u,l,p].forEach((function(e){e.classList.add(t.overlaySelectorClass),d.document.body.appendChild(e)})),n.classList.add(this.stagedTargetClass);var h=$(c),v=h.height,g=h.width,b=$(u).height,y=g+$(l).width+$(p).width,m=v+b+a.height+2*i;ut(s,y)&&ut(r,m)||this.resetBackdrop()},t.prototype.removeOverlay=function(){d.document.querySelectorAll("."+this.overlaySelectorClass).forEach((function(t){t&&t.remove()}));var t=d.document.querySelector(this.targetSelector);t&&t.classList.remove(this.stagedTargetClass)},t.prototype.remove=function(){this.timers=this.timers.filter((function(t){var e=t.object;return d.window.clearTimeout(e)})),this.toStopOverlay=!0,this.resizeObservers=this.resizeObservers.filter((function(t){return t.disconnect()})),this.focusTrap&&this.focusTrap.deactivate(),this.removeOverlay()},t}(),lt={disabled:!1,color:"#444",opacity:"0.5",stageGap:5,nextOnOverlayClick:!1};function pt(){l("resizeUpdate")}var ft=[12,0],ht=function(){function t(t){var n=t.target,i=t.guideID,o=t.index,r=t.data,s=t.actions,a=t.styleProps;this.actions=ct,this.styleProps={},this.targetsAndEventListeners=[],this.isTooltipShown=!1,l("%c Tooltip constructor! ","background: #222; color: #bada55"),this.target=n;var c=n.elementSelector;this.styleProps=a||{},this.data=r,this.index=o;var u=r.progressOn||{};this.data.progressOn=e.__assign({eventType:"click",elementSelector:c},u);var p=r.backdrop||{};this.data.backdrop=e.__assign(e.__assign({},lt),p),this.data.offset=this.data.offset||ft,this.data.backdrop.disabled||(this.data.offset[0]=this.data.offset[0]+this.data.backdrop.stageGap),this.consolidateActions(s),this.uid=S({guideID:i,index:o,type:"tooltip"}),this.guideID=i,this.targetElement=d.document.querySelector(c),this.show(),l("tooltip started")}return t.prototype.hide=function(){this.fuitInstance.hide(),this.removeAllEventListeners(),this.backdropInstance&&this.backdropInstance.remove(),this.backdropInstance=null,this.isTooltipShown=!1},t.prototype.consolidateActions=function(t){this.actions=_(this.actions,t)},t.prototype.addBackdrop=function(){var t=this,e=this.data.backdrop,n={stageGap:e.stageGap,opacity:e.opacity,color:e.color};this.backdropInstance=new dt({targetSelector:this.target.elementSelector,guideID:this.guideID,index:this.index,data:n}),this.data.backdrop.nextOnOverlayClick&&Array.from(d.document.getElementsByClassName(this.backdropInstance.overlaySelectorClass)).forEach((function(e){t.addEventListenerToTarget(e,"next")}))},t.prototype.show=function(){return e.__awaiter(this,void 0,void 0,(function(){var t,i,o,r,s,a,c,u,p,h,v,g,b=this;return e.__generator(this,(function(e){switch(e.label){case 0:return this.targetElement?this.isTooltipShown?[2,f("Tooltip is already displayed")]:(t=this.data,i=t.progressOn,o=t.backdrop,s=(r=i).eventType,r.disabled||this.addEventListenerToTarget(this.targetElement,"next",s),this.fuitInstance?[3,2]:(c=(a=this).uid,u=a.actions,p=a.styleProps,h=a.data,v=a.index,g=this,[4,at({uid:c,target:this.targetElement,actions:u,styleProps:p,data:h,scrollIntoView:!0,index:v,onShow:function(t){o.disabled||b.addBackdrop.bind(b)(),b.isTooltipShown=!0},onHide:function(t){o.disabled||(b.backdropInstance&&b.backdropInstance.remove(),b.backdropInstance=null,b.isTooltipShown=!1)}})])):[2,f("Error: target element not found")];case 1:return g.fuitInstance=e.sent(),l(this.fuitInstance),d.window.fuit=this.fuitInstance,n.autoUpdate(this.targetElement,this.fuitInstance.tooltipElement,pt,{ancestorScroll:!1,ancestorResize:!0,elementResize:!0}),[3,3];case 2:this.fuitInstance.show(),e.label=3;case 3:return[2]}}))}))},t.prototype.remove=function(){if(!this.isTooltipShown)return f("Attempted to remove but tooltip is not shown");l("removing tooltip "+this.uid),this.removeAllEventListeners(),this.backdropInstance&&this.backdropInstance.remove(),this.fuitInstance.remove(),this.fuitInstance=null,this.isTooltipShown=!1},t.prototype.getListenerFromMethod=function(t){switch(t){case"next":return d.window.Lusift.next;case"prev":return d.window.Lusift.prev;case"close":return this.remove;default:return function(){}}},t.prototype.addEventListenerToTarget=function(t,e,n){void 0===e&&(e="next"),void 0===n&&(n="click"),t.addEventListener(n,this.getListenerFromMethod(e)),this.targetsAndEventListeners.push({method:e,target:t,eventType:n})},t.prototype.removeAllEventListeners=function(){var t=this;this.targetsAndEventListeners.forEach((function(e){var n=e.method,i=e.target,o=e.eventType;i.removeEventListener(o,t.getListenerFromMethod(n)),l("remove event listener of type "+o+" and method "+n)})),this.targetsAndEventListeners=[]},t}(),vt=function(){function t(t){var e=t.index,n=t.guideID,i=t.data,o=t.closeButton;this.data={},this.uid=S({guideID:n,type:"modal",index:e}),this.data=i||{},this.index=e,this.closeButton=o,this.addModal();var r=this.data,s=r.escToClose,a=r.clickOutsideToClose;(this.focusTrap=Mt({target:".modal",escToClose:s,clickOutsideToClose:a}),s&&d.window.addEventListener("keydown",this.escEventListener,!0),a)&&d.document.querySelector(".lusift-modal-overlay").addEventListener("click",this.overlayClickEventListener,!0)}return t.prototype.escEventListener=function(t){"Escape"!=t.key&&"Esc"!=t.key&&27!=t.keyCode||"BODY"!=t.target.nodeName||d.window.Lusift.close()},t.prototype.overlayClickEventListener=function(t){t.target.classList.contains("modal")||d.window.Lusift.close()},t.prototype.addModal=function(){this.data.bodyContent,function(t){var n=t.uid,i=t.index,o=t.closeButton,r=void 0===o?{}:o,s=d.document.createElement("div"),a=d.document.createElement("div");a.id=n,s.classList.add(Z),s.style.cssText=x(e.__assign({position:"absolute",background:"#444",display:"flex",justifyContent:"center",alignItems:"center",opacity:"0.5",top:"0",left:"0",bottom:"0",right:"0",zIndex:"99998"},{})),a.style.cssText=x(e.__assign({borderRadius:tt},{})),a.classList.add("modal"),a.innerHTML="\n    "+nt()+"\n    "+it(r,"modal")+'\n    <section class="body-content">\n    </section>\n  ';var c=d.document.createElement("div");c.classList.add("lusift"),c.appendChild(a),d.document.body.appendChild(s),d.document.body.appendChild(c);var u=window.Lusift,l=u.content[u.activeGuide.id].data.steps[i].data.bodyContent||'\n    <style>\n    .modal .body-content {\n      max-height: 500px;\n      width: 600px;\n      display: flex;\n      flex-direction: column;\n    }\n    h2{\n      font-weight: bold;\n      font-size: 1.5rem;\n    }\n    .button-area{\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin: 2rem 0;\n    }\n    </style>\n    <h2>Default Modal Content</h2>\n    <div class="button-area">\n      <button class="button" onclick="Lusift.next()">\n        Next\n      </button>\n    </div>';u.render(l,".lusift > .modal > .body-content")}({uid:this.uid,index:this.index,closeButton:this.closeButton})},t.prototype.remove=function(){var t=d.document.querySelector(".lusift-modal-overlay");d.document.getElementById(this.uid).remove(),this.focusTrap.deactivate(),this.data.escToClose&&d.window.removeEventListener("keydown",this.escEventListener,!0),this.data.clickOutsideToClose&&t.removeEventListener("click",this.overlayClickEventListener,!0),t.remove()},t}(),gt=function(t){t.remove;var n=t.data,i=t.target,o=t.styleProps,r=t.uid,s=t.index,a=t.onClickOutside;return e.__awaiter(void 0,void 0,void 0,(function(){var t,c,u,d,l,p,f;return e.__generator(this,(function(e){switch(e.label){case 0:return t=n.arrow,c=n.placement,u=n.offset,d="\n    <style>\n      .tippy-box{\n        z-index: 999999;\n        border-radius: 4px;\n        "+x(o)+"\n      }\n    </style>\n\n    "+nt()+'\n    <div class="lusift">\n      <div class="hotspot-tooltip" id="tooltip-'+r+'">\n        <section class="body-content">\n        </section>\n      </div>\n    </div>\n  ',[4,st({target:i,content:d,arrow:t,offset:u,placement:c,onClickOutside:a,remove:function(){}})];case 1:return l=e.sent(),p=window.Lusift,f=p.content[p.activeGuide.id].data.steps[s].tip.data.bodyContent||'\n  <h3 style="font-weight: bold;">Default title</h3>\n  <p style="font-weight: normal;">Default tooltip content</p>\n',p.render(f,".lusift > .hotspot-tooltip > .body-content",(function(){l.update()})),[2,l]}}))}))},bt=function(){function t(t){var e=t.data,n=t.guideID;this.resizeObservers=[],l(e),this.data=e;var i=e.index,o=e.type,r=e.target;this.tipID=S({guideID:n,type:o,index:i}),this.beaconID=S({guideID:n,type:"beacon",index:i}),this.targetElement=d.document.querySelector(r.elementSelector),this.addBeacon(),this.resizeObservers.push(V(d.document.body,this.repositionBeacon.bind(this))),this.resizeObservers.push(V(this.targetElement,this.repositionBeacon.bind(this)))}return t.prototype.repositionBeacon=function(){this.remove(),this.fuitInstance=null,this.addBeacon(),l("reset beacon position")},t.prototype.addBeacon=function(){l("adding beacon");var t=$(this.targetElement);!function(t){var n=t.targetPosition,i=t.beaconData,o=t.beaconID,r=t.toggleTooltip,s=n.targetTop,a=n.targetLeft,c=n.targetHeight,u=n.targetWidth,l=d.document.createElement("div");l.style.cssText=x({position:"absolute",top:s+"px",left:a+"px"}),l.classList.add("lusift-beacon-container");var p=i.placement,f=i.size,h=i.color;i.type;var v=p.top,g=p.left;l.innerHTML="\n  <style>\n    #"+o+" {\n      background-color: "+(h||"#b9f")+";\n      border-radius: 50%;\n      position: absolute;\n      pointer-events: auto;\n      width: "+13*f+"px;\n      height: "+13*f+"px;\n\n      \n      -webkit-animation: shine 2s ease-in-out infinite;\n      animation: shine 2s ease-in-out infinite;\n        \n      cursor: pointer;\n      -webkit-animation-delay: 1s;\n      animation-delay: 1s;\n      top: "+v/100*c+"px;\n      left: "+g/100*u+"px;\n    }\n\n\n    @-webkit-keyframes shine {\n      0%, 20% {\n        box-shadow: 0px 0px 0px 0px rgba(187, 153, 255, 0.49);\n      }\n      100% {\n        box-shadow: 0px 0px 0px "+20*f+"px rgba(0, 0, 0, 0);\n      }\n    }\n\n    @keyframes shine {\n      0%, 20% {\n        box-shadow: 0px 0px 0px 0px rgba(187, 153, 255, 0.49);\n      }\n      100% {\n        box-shadow: 0px 0px 0px "+20*f+'px rgba(0, 0, 0, 0);\n      }\n    }\n  }\n  </style>\n  <div class="lusift-beacon" id="'+o+'"></div>\n',d.document.body.appendChild(l);var b=d.document.getElementById(o),y=d.document.createElement("div");y.id=o+"-er";var m=$(b),w=m.width,_=m.height;y.style.cssText=x(e.__assign(e.__assign({},b.style),{width:w+"px",height:_+"px",background:"transparent",zIndex:"394490"})),b.appendChild(y),y.addEventListener("click",r)}({targetPosition:{targetTop:t.top,targetLeft:t.left,targetWidth:t.width,targetHeight:t.height},beaconData:this.data.beacon,beaconID:this.beaconID,toggleTooltip:this.toggleTooltip.bind(this)})},t.prototype.toggleTooltip=function(){return e.__awaiter(this,void 0,void 0,(function(){var t,n,i,o,r,s,a,c,u;return e.__generator(this,(function(e){switch(e.label){case 0:return t=d.document.getElementById(this.beaconID),n=this.data.tip,i=n.data,o=n.styleProps,r=d.window.Lusift.activeHotspot,s=d.window.Lusift,r&&this.data.index!==r.data.index&&s.activeHotspot.hideTooltip(),a=!Boolean(s.activeGuide),c=a?s.close:this.removeAndCloseAsync.bind(this),this.fuitInstance?[3,2]:(u=this,[4,gt({remove:c,uid:this.tipID,index:this.data.index,target:t,styleProps:o,data:i,onClickOutside:function(t,e){c()}})]);case 1:return u.fuitInstance=e.sent(),s.activeHotspot=this,[3,7];case 2:return this.fuitInstance.getState().isRemoved?(f("Uh... but it doesn't exist. unexpected"),[3,7]):[3,3];case 3:return this.fuitInstance.getState().isShown?[4,this.hideTooltip()]:[3,5];case 4:return e.sent(),[3,7];case 5:return this.fuitInstance?[4,this.fuitInstance.show()]:[3,7];case 6:e.sent(),s.activeHotspot=this,e.label=7;case 7:return[2]}}))}))},t.prototype.hideTooltip=function(){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fuitInstance.hide()];case 1:return t.sent(),d.window.Lusift.activeHotspot=null,[2]}}))}))},t.prototype.changeAsyncStepStatus=function(t){this.data.async&&X(this.data.index,t)},t.prototype.remove=function(){l("Removing id: "+this.data.index+" hotspot"),this.fuitInstance?(this.fuitInstance.getState().isRemoved&&l("Hotspot's tooltip is already destroyed"),this.fuitInstance.remove()):l("Hotspot closed without ever opening");var t=d.document.getElementById(this.beaconID);t&&(t.parentElement.remove(),d.window.Lusift.activeHotspot=null)},t.prototype.removeResizeObservers=function(){this.resizeObservers.forEach((function(t){return t.disconnect()}))},t.prototype.removeAndCloseAsync=function(){this.remove(),this.changeAsyncStepStatus(!1),this.removeResizeObservers()},t}(),yt=function(t,e){var n,i=t.index,o=t.target,r=t.type,s=t.data,a=t.closeButton;if("tooltip"===r){var c=t.actions,u=t.styleProps;n=new ht({target:o,data:s,index:i,guideID:e,actions:c,styleProps:u})}else"modal"===r?n=new vt({index:i,guideID:e,data:s,closeButton:a}):"hotspot"===r&&(n=new bt({data:t,guideID:e}));return n},mt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],wt=mt.join(","),_t="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xt=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?function(t){return"true"===t.contentEditable}(t)?0:"AUDIO"!==t.nodeName&&"VIDEO"!==t.nodeName&&"DETAILS"!==t.nodeName||null!==t.getAttribute("tabindex")?t.tabIndex:0:e},St=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},kt=function(t){return"INPUT"===t.tagName},Et=function(t){return function(t){return kt(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||t.ownerDocument,i=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=i(window.CSS.escape(t.name));else try{e=i(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var o=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!o||o===t}(t)},Ot=function(t,e){return!(e.disabled||function(t){return kt(t)&&"hidden"===t.type}(e)||function(t,e){if("hidden"===getComputedStyle(t).visibility)return!0;var n=_t.call(t,"details>summary:first-of-type")?t.parentElement:t;if(_t.call(n,"details:not([open]) *"))return!0;if(e&&"full"!==e){if("non-zero-area"===e){var i=t.getBoundingClientRect(),o=i.width,r=i.height;return 0===o&&0===r}}else for(;t;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}(e,t.displayCheck)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(kt(t)||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||"BUTTON"===t.tagName)for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var i=e.children.item(n);if("LEGEND"===i.tagName)return!i.contains(t)}return!0}e=e.parentElement}return!1}(e))},Tt=function(t,e){return!(!Ot(t,e)||Et(e)||xt(e)<0)},Ct=function(t,e){var n=[],i=[],o=function(t,e,n){var i=Array.prototype.slice.apply(t.querySelectorAll(wt));return e&&_t.call(t,wt)&&i.unshift(t),i.filter(n)}(t,(e=e||{}).includeContainer,Tt.bind(null,e));return o.forEach((function(t,e){var o=xt(t);0===o?n.push(t):i.push({documentOrder:e,tabIndex:o,node:t})})),i.sort(St).map((function(t){return t.node})).concat(n)},Lt=mt.concat("iframe").join(","),It=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==_t.call(t,Lt)&&Ot(e,t)};
/*!
	* focus-trap 6.7.1
	* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
	*/
function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jt,zt=(jt=[],{activateTrap:function(t){if(jt.length>0){var e=jt[jt.length-1];e!==t&&e.pause()}var n=jt.indexOf(t);-1===n||jt.splice(n,1),jt.push(t)},deactivateTrap:function(t){var e=jt.indexOf(t);-1!==e&&jt.splice(e,1),jt.length>0&&jt[jt.length-1].unpause()}}),Pt=function(t){return setTimeout(t,0)},Nt=function(t,e){var n=-1;return t.every((function(t,i){return!e(t)||(n=i,!1)})),n},Gt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return"function"==typeof t?t.apply(void 0,n):t},Bt=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},Rt=function(t,e){var n,i=(null==e?void 0:e.document)||document,o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){Dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),r={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s=function(t,e,n){return t&&void 0!==t[e]?t[e]:o[n||e]},a=function(t){return!(!t||!r.containers.some((function(e){return e.contains(t)})))},c=function(t){var e=o[t];if("function"==typeof e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];e=e.apply(void 0,r)}if(!e){if(void 0===e||!1===e)return e;throw new Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var a=e;if("string"==typeof e&&!(a=i.querySelector(e)))throw new Error("`".concat(t,"` as selector refers to no known node"));return a},u=function(){var t=c("initialFocus");if(!1===t)return!1;if(void 0===t)if(a(i.activeElement))t=i.activeElement;else{var e=r.tabbableGroups[0];t=e&&e.firstTabbableNode||c("fallbackFocus")}if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t},d=function(){if(r.tabbableGroups=r.containers.map((function(t){var e=Ct(t);if(e.length>0)return{container:t,firstTabbableNode:e[0],lastTabbableNode:e[e.length-1]}})).filter((function(t){return!!t})),r.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},l=function t(e){!1!==e&&e!==i.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!o.preventScroll}),r.mostRecentlyFocusedNode=e,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(e)&&e.select()):t(u()))},p=function(t){var e=c("setReturnFocus",t);return e||!1!==e&&t},f=function(t){var e=Bt(t);a(e)||(Gt(o.clickOutsideDeactivates,t)?n.deactivate({returnFocus:o.returnFocusOnDeactivate&&!It(e)}):Gt(o.allowOutsideClick,t)||t.preventDefault())},h=function(t){var e=Bt(t),n=a(e);n||e instanceof Document?n&&(r.mostRecentlyFocusedNode=e):(t.stopImmediatePropagation(),l(r.mostRecentlyFocusedNode||u()))},v=function(t){if(function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}(t)&&!1!==Gt(o.escapeDeactivates,t))return t.preventDefault(),void n.deactivate();(function(t){return"Tab"===t.key||9===t.keyCode})(t)&&function(t){var e=Bt(t);d();var n=null;if(r.tabbableGroups.length>0){var i=Nt(r.tabbableGroups,(function(t){return t.container.contains(e)}));if(i<0)n=t.shiftKey?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(t.shiftKey){var o=Nt(r.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e===n}));if(o<0&&r.tabbableGroups[i].container===e&&(o=i),o>=0){var s=0===o?r.tabbableGroups.length-1:o-1;n=r.tabbableGroups[s].lastTabbableNode}}else{var a=Nt(r.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e===n}));if(a<0&&r.tabbableGroups[i].container===e&&(a=i),a>=0){var u=a===r.tabbableGroups.length-1?0:a+1;n=r.tabbableGroups[u].firstTabbableNode}}}else n=c("fallbackFocus");n&&(t.preventDefault(),l(n))}(t)},g=function(t){if(!Gt(o.clickOutsideDeactivates,t)){var e=Bt(t);a(e)||Gt(o.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())}},b=function(){if(r.active)return zt.activateTrap(n),r.delayInitialFocusTimer=o.delayInitialFocus?Pt((function(){l(u())})):l(u()),i.addEventListener("focusin",h,!0),i.addEventListener("mousedown",f,{capture:!0,passive:!1}),i.addEventListener("touchstart",f,{capture:!0,passive:!1}),i.addEventListener("click",g,{capture:!0,passive:!1}),i.addEventListener("keydown",v,{capture:!0,passive:!1}),n},y=function(){if(r.active)return i.removeEventListener("focusin",h,!0),i.removeEventListener("mousedown",f,!0),i.removeEventListener("touchstart",f,!0),i.removeEventListener("click",g,!0),i.removeEventListener("keydown",v,!0),n};return(n={activate:function(t){if(r.active)return this;var e=s(t,"onActivate"),n=s(t,"onPostActivate"),o=s(t,"checkCanFocusTrap");o||d(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=i.activeElement,e&&e();var a=function(){o&&d(),b(),n&&n()};return o?(o(r.containers.concat()).then(a,a),this):(a(),this)},deactivate:function(t){if(!r.active)return this;clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,y(),r.active=!1,r.paused=!1,zt.deactivateTrap(n);var e=s(t,"onDeactivate"),i=s(t,"onPostDeactivate"),o=s(t,"checkCanReturnFocus");e&&e();var a=s(t,"returnFocus","returnFocusOnDeactivate"),c=function(){Pt((function(){a&&l(p(r.nodeFocusedBeforeActivation)),i&&i()}))};return a&&o?(o(p(r.nodeFocusedBeforeActivation)).then(c,c),this):(c(),this)},pause:function(){return r.paused||!r.active||(r.paused=!0,y()),this},unpause:function(){return r.paused&&r.active?(r.paused=!1,d(),b(),this):this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return r.containers=e.map((function(t){return"string"==typeof t?i.querySelector(t):t})),r.active&&d(),this}}).updateContainerElements(t),n},Mt=function(t){var e=t.target,n=t.escToClose,i=t.clickOutsideToClose,o=!d.window.Lusift.activeGuideID,r=Rt(e,{escapeDeactivates:!o&&n,clickOutsideDeactivates:!o&&i});return r.activate(),r};var Ht=function(){function t(t){this.activeSteps=[],l("guide constructor"),l(h());var e=h()[t],n=Object.assign({},e);if(delete n.trackingState,this.guideData=n,l("%c Welcome to guide: "+(this.guideData.name||this.guideData.id),"background: #222; color: #bada55"),!e.trackingState){var i=this.generateNewTrackingState();this.setTrackingState(i)}}return t.prototype.generateNewTrackingState=function(){var t={currentStepIndex:0,finished:!1,prematurelyClosed:!1,asyncSteps:{},enabled:!1};return this.guideData.steps.forEach((function(e){"async"in e&&e.async&&"hotspot"===e.type&&(t.asyncSteps[e.index]={toOpen:!1})})),t},t.prototype.start=function(){var t=this.getTrackingState(),e=t.finished,n=t.prematurelyClosed;this.removeIllegalSteps(),this.attemptToStartAsyncSteps(),e||n?f("Guide is already finished or closed"):this.attemptToShowActiveStep()},t.prototype.removeAllActiveSteps=function(){this.activeSteps.forEach((function(t){var e=t.type;t.target;var n=t.instance;t.async&&"hotspot"===e&&n.removeResizeObservers(),n.remove()})),this.activeSteps=[]},t.prototype.reRenderStepElements=function(){l("re-render step elements"),this.removeAllActiveSteps(),this.start()},t.prototype.attemptToShowActiveStep=function(){var t,e=this.getTrackingState().currentStepIndex,n=this.guideData.steps;e--;do{var i=n[++e],o=n[e],r=o.target,s=o.type,a=!1;"async"in i&&(a=i.async);var c=K({target:r,type:s});(t=a&&"hotspot"===s)&&X(e,!0),c&&!this.isStepAlreadyActive(e)&&this.activeSteps.push({index:e,instance:yt(n[e],this.guideData.id),target:r,type:s,async:a})}while(t);var u=this.getTrackingState();u.currentStepIndex=e,this.setTrackingState(u)},t.prototype.isStepAlreadyActive=function(t){return this.activeSteps.some((function(e){return e.index===t}))},t.prototype.attemptToStartAsyncSteps=function(){var t=this,e=this.guideData.steps;e.forEach((function(n){var i=n.type,o=n.index,r=n.target,s=!1;if("async"in n&&(s=n.async),s&&"hotspot"===i&&K({target:r,type:i})&&t.getTrackingState().asyncSteps[o].toOpen){if(l("Step "+o+": target path and element matched. toOpen is true"),t.isStepAlreadyActive(o))return p("Step "+o+" is already active");t.activeSteps.push({index:o,instance:yt(e[o],t.guideData.id),target:r,type:i,async:s})}}))},t.prototype.removeIllegalSteps=function(){this.activeSteps=this.activeSteps.filter((function(t){var e=t.type,n=t.target,i=t.instance,o=t.async;return!!K({target:n,type:e})||(o&&"hotspot"===e&&i.removeResizeObservers(),i.remove(),!1)}))},t.prototype.setTrackingState=function(t){var n,i=h();v(e.__assign(e.__assign({},i),((n={})[this.guideData.id]=e.__assign(e.__assign({},i[this.guideData.id]),{trackingState:t}),n)))},t.prototype.getTrackingState=function(){return h()[this.guideData.id].trackingState},t.prototype.clearTrackingState=function(){this.setTrackingState(void 0)},t.prototype.setStep=function(t){var e=this.getTrackingState();if(t<0)return p("Step index can't be less than 0");t+1>this.guideData.steps.length?(e.finished=!0,this.setTrackingState(e),l("guide finished")):(e.currentStepIndex=t,this.setTrackingState(e),this.start())},t.prototype.close=function(){var t=this.getTrackingState();t.currentStepIndex+1===this.guideData.steps.length?t.finished=!0:t.prematurelyClosed=!0,this.setTrackingState(t),this.removeAllActiveSteps(),d.window.Lusift.activeGuide=null,l("guide closed"),"function"==typeof d.window.Lusift.onClose&&d.window.Lusift.onClose(),d.window.Lusift.disable(this.guideData.id)},t.prototype.closeCurrentStep=function(){var t=this.getTrackingState().currentStepIndex,e=this.activeSteps.find((function(e){return e.index===t}));e?(e.instance.remove(),this.activeSteps=this.activeSteps.filter((function(e){return e.index!==t}))):p("There's no active step to close")},t.prototype.nextStep=function(){var t=this.getTrackingState().currentStepIndex+1;if(t+1>this.guideData.steps.length)return f("No new steps");this.closeCurrentStep(),this.setStep(t),"function"==typeof d.window.Lusift.onNext&&d.window.Lusift.onNext()},t.prototype.prevStep=function(){for(var t=this.getTrackingState().currentStepIndex;t>-2;){t--;var e=this.guideData.steps[t];if(!e)break;var n=!1;if("async"in e&&(n=e.async),!("hotspot"===e.type&&n))break}if(t<0)return f("No previous steps");this.closeCurrentStep(),this.setStep(t);var i=d.window.Lusift;"function"==typeof i.onPrev&&i.onPrev()},t}(),Ft={exports:{}};!function(t,e){var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",r="[object Array]",s="[object Boolean]",a="[object Date]",c="[object Error]",d="[object Function]",l="[object Map]",p="[object Number]",f="[object Object]",h="[object Promise]",v="[object RegExp]",g="[object Set]",b="[object String]",y="[object Symbol]",m="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",x=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[o]=k[r]=k[w]=k[s]=k[_]=k[a]=k[c]=k[d]=k[l]=k[p]=k[f]=k[v]=k[g]=k[b]=k[m]=!1;var E="object"==typeof u&&u&&u.Object===Object&&u,O="object"==typeof self&&self&&self.Object===Object&&self,T=E||O||Function("return this")(),C=e&&!e.nodeType&&e,L=C&&t&&!t.nodeType&&t,I=L&&L.exports===C,A=I&&E.process,D=function(){try{return A&&A.binding&&A.binding("util")}catch(t){}}(),j=D&&D.isTypedArray;function z(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function P(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function N(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var G,B,R,M=Array.prototype,H=Function.prototype,F=Object.prototype,q=T["__core-js_shared__"],W=H.toString,U=F.hasOwnProperty,V=(G=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",$=F.toString,X=RegExp("^"+W.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=I?T.Buffer:void 0,J=T.Symbol,K=T.Uint8Array,Z=F.propertyIsEnumerable,Q=M.splice,tt=J?J.toStringTag:void 0,et=Object.getOwnPropertySymbols,nt=Y?Y.isBuffer:void 0,it=(B=Object.keys,R=Object,function(t){return B(R(t))}),ot=Dt(T,"DataView"),rt=Dt(T,"Map"),st=Dt(T,"Promise"),at=Dt(T,"Set"),ct=Dt(T,"WeakMap"),ut=Dt(Object,"create"),dt=Nt(ot),lt=Nt(rt),pt=Nt(st),ft=Nt(at),ht=Nt(ct),vt=J?J.prototype:void 0,gt=vt?vt.valueOf:void 0;function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function mt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mt;++e<n;)this.add(t[e])}function _t(t){var e=this.__data__=new yt(t);this.size=e.size}function xt(t,e){var n=Rt(t),i=!n&&Bt(t),o=!n&&!i&&Mt(t),r=!n&&!i&&!o&&Ut(t),s=n||i||o||r,a=s?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],c=a.length;for(var u in t)!e&&!U.call(t,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pt(u,c))||a.push(u);return a}function St(t,e){for(var n=t.length;n--;)if(Gt(t[n][0],e))return n;return-1}function kt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":tt&&tt in Object(t)?function(t){var e=U.call(t,tt),n=t[tt];try{t[tt]=void 0;var i=!0}catch(t){}var o=$.call(t);i&&(e?t[tt]=n:delete t[tt]);return o}(t):function(t){return $.call(t)}(t)}function Et(t){return Wt(t)&&kt(t)==o}function Ot(t,e,n,i,u){return t===e||(null==t||null==e||!Wt(t)&&!Wt(e)?t!=t&&e!=e:function(t,e,n,i,u,d){var h=Rt(t),m=Rt(e),x=h?r:zt(t),S=m?r:zt(e),k=(x=x==o?f:x)==f,E=(S=S==o?f:S)==f,O=x==S;if(O&&Mt(t)){if(!Mt(e))return!1;h=!0,k=!1}if(O&&!k)return d||(d=new _t),h||Ut(t)?Lt(t,e,n,i,u,d):function(t,e,n,i,o,r,u){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!r(new K(t),new K(e)));case s:case a:case p:return Gt(+t,+e);case c:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case l:var d=P;case g:var f=1&i;if(d||(d=N),t.size!=e.size&&!f)return!1;var h=u.get(t);if(h)return h==e;i|=2,u.set(t,e);var m=Lt(d(t),d(e),i,o,r,u);return u.delete(t),m;case y:if(gt)return gt.call(t)==gt.call(e)}return!1}(t,e,x,n,i,u,d);if(!(1&n)){var T=k&&U.call(t,"__wrapped__"),C=E&&U.call(e,"__wrapped__");if(T||C){var L=T?t.value():t,I=C?e.value():e;return d||(d=new _t),u(L,I,n,i,d)}}if(!O)return!1;return d||(d=new _t),function(t,e,n,i,o,r){var s=1&n,a=It(t),c=a.length,u=It(e).length;if(c!=u&&!s)return!1;var d=c;for(;d--;){var l=a[d];if(!(s?l in e:U.call(e,l)))return!1}var p=r.get(t);if(p&&r.get(e))return p==e;var f=!0;r.set(t,e),r.set(e,t);var h=s;for(;++d<c;){var v=t[l=a[d]],g=e[l];if(i)var b=s?i(g,v,l,e,t,r):i(v,g,l,t,e,r);if(!(void 0===b?v===g||o(v,g,n,i,r):b)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var y=t.constructor,m=e.constructor;y==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(f=!1)}return r.delete(t),r.delete(e),f}(t,e,n,i,u,d)}(t,e,n,i,Ot,u))}function Tt(t){return!(!qt(t)||function(t){return!!V&&V in t}(t))&&(Ht(t)?X:x).test(Nt(t))}function Ct(t){if(n=(e=t)&&e.constructor,i="function"==typeof n&&n.prototype||F,e!==i)return it(t);var e,n,i,o=[];for(var r in Object(t))U.call(t,r)&&"constructor"!=r&&o.push(r);return o}function Lt(t,e,n,i,o,r){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=r.get(t);if(u&&r.get(e))return u==e;var d=-1,l=!0,p=2&n?new wt:void 0;for(r.set(t,e),r.set(e,t);++d<a;){var f=t[d],h=e[d];if(i)var v=s?i(h,f,d,e,t,r):i(f,h,d,t,e,r);if(void 0!==v){if(v)continue;l=!1;break}if(p){if(!z(e,(function(t,e){if(s=e,!p.has(s)&&(f===t||o(f,t,n,i,r)))return p.push(e);var s}))){l=!1;break}}else if(f!==h&&!o(f,h,n,i,r)){l=!1;break}}return r.delete(t),r.delete(e),l}function It(t){return function(t,e,n){var i=e(t);return Rt(t)?i:function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}(i,n(t))}(t,Vt,jt)}function At(t,e){var n,i,o=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Dt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Tt(n)?n:void 0}bt.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(ut){var i=e[t];return i===n?void 0:i}return U.call(e,t)?e[t]:void 0},bt.prototype.has=function(t){var e=this.__data__;return ut?void 0!==e[t]:U.call(e,t)},bt.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=ut&&void 0===e?n:e,this},yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(t){var e=this.__data__,n=St(e,t);return!(n<0)&&(n==e.length-1?e.pop():Q.call(e,n,1),--this.size,!0)},yt.prototype.get=function(t){var e=this.__data__,n=St(e,t);return n<0?void 0:e[n][1]},yt.prototype.has=function(t){return St(this.__data__,t)>-1},yt.prototype.set=function(t,e){var n=this.__data__,i=St(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},mt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(rt||yt),string:new bt}},mt.prototype.delete=function(t){var e=At(this,t).delete(t);return this.size-=e?1:0,e},mt.prototype.get=function(t){return At(this,t).get(t)},mt.prototype.has=function(t){return At(this,t).has(t)},mt.prototype.set=function(t,e){var n=At(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,n),this},wt.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.clear=function(){this.__data__=new yt,this.size=0},_t.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},_t.prototype.get=function(t){return this.__data__.get(t)},_t.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.set=function(t,e){var n=this.__data__;if(n instanceof yt){var i=n.__data__;if(!rt||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new mt(i)}return n.set(t,e),this.size=n.size,this};var jt=et?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s)}return r}(et(t),(function(e){return Z.call(t,e)})))}:function(){return[]},zt=kt;function Pt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||S.test(t))&&t>-1&&t%1==0&&t<e}function Nt(t){if(null!=t){try{return W.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(ot&&zt(new ot(new ArrayBuffer(1)))!=_||rt&&zt(new rt)!=l||st&&zt(st.resolve())!=h||at&&zt(new at)!=g||ct&&zt(new ct)!=m)&&(zt=function(t){var e=kt(t),n=e==f?t.constructor:void 0,i=n?Nt(n):"";if(i)switch(i){case dt:return _;case lt:return l;case pt:return h;case ft:return g;case ht:return m}return e});var Bt=Et(function(){return arguments}())?Et:function(t){return Wt(t)&&U.call(t,"callee")&&!Z.call(t,"callee")},Rt=Array.isArray;var Mt=nt||function(){return!1};function Ht(t){if(!qt(t))return!1;var e=kt(t);return e==d||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function qt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Wt(t){return null!=t&&"object"==typeof t}var Ut=j?function(t){return function(e){return t(e)}}(j):function(t){return Wt(t)&&Ft(t.length)&&!!k[kt(t)]};function Vt(t){return null!=(e=t)&&Ft(e.length)&&!Ht(e)?xt(t):Ct(t);var e}t.exports=function(t,e){return Ot(t,e)}}(Ft,Ft.exports);var qt=Ft.exports,Wt=function(){},Ut=new(function(){function t(){this.render=Wt,this.activeGuide=null,this.progress=0,this.next=Wt,this.prev=Wt,this.close=Wt,this.goto=Wt,l("%c Lusift constructor! ","background: #222; color: #bada55"),g(h())||v({}),function(){if(void 0!==d.document){var t=d.document.createElement("style");t.type="text/css",t.setAttribute("lusift-default",""),t.textContent=".lusift button{background:#11999e;border-radius:6px;color:#fff;font-weight:700;padding:.3rem .45rem}.lusift button:focus{outline:1px solid #333}.lusift .tooltip button{background-color:#11999e;border-radius:8px;color:#fff;font-size:.75rem;font-weight:700;padding:.2rem .35rem}.lusift .modal button{font-size:1.1rem;padding:.45rem .75rem}.lusift h1,.lusift h2,.lusift h3{text-align:center}.lusift .closeX{background-color:transparent;border:none;font-weight:400}.lusift .modal h1,.lusift .modal h2,.lusift .modal h3,.lusift .modal p{margin:0 0 .85rem}.lusift .modal h1,.lusift .modal h2,.lusift .modal h3{line-height:1.2}.lusift .tooltip section.close-btn{border-radius:inherit;display:flex;justify-content:flex-end;margin:-4px!important}.lusift .tooltip .closeX{background:transparent;border-radius:2px;color:#666;font-size:1rem;font-weight:400;margin:-4px -5px 0!important;padding:0 2px}.lusift .tooltip section.nav-buttons{display:flex;flex-wrap:wrap;justify-content:space-between;margin-top:4px!important}.lusift .tooltip .nav-buttons .dismiss-link{color:#777;font-size:.8rem;font-style:italic;margin-right:.4rem}.lusift .tooltip .nav-buttons .next,.nav-buttons .prev{background-color:#11999e;border-radius:8px;color:#fff;font-size:.75rem;font-weight:700;padding:.2rem .35rem}.lusift .tooltip .nav-buttons .prev{margin-right:.3rem}.tippy-box{z-index:999999}.lusift .tooltip{display:block;font-size:1rem;font-weight:700;padding:5px 9px;z-index:99999}.lusift .tooltip>*{margin:3px 6px}.lusift .tooltip .body-content{margin-top:0!important;min-width:80px;white-space:nowrap}.lusift .modal{background:#fff;display:flex;flex-direction:column;left:50%;opacity:1;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:99999}.lusift .modal section.close-btn{display:flex;justify-content:flex-end}.lusift .modal .closeX{background:transparent;border-radius:2px;color:#666;font-size:1.45rem;font-weight:400;margin-bottom:0!important;margin-right:.2rem;padding:0 2px}.lusift .modal .body-content{background:#fff;color:#111;flex-grow:1;max-height:500px;max-width:600px;min-height:30px;min-width:200px;overflow-x:none;overflow-y:auto;padding:3px 15px 8px;white-space:nowrap}.lusift-progress{-webkit-appearance:none;display:block;margin:0;margin-top:-1px;padding:0;width:100%}.modal .lusift-progress{margin-top:0}.lusift-progress::-webkit-progress-bar{initial:none;background-color:transparent}.lusift-progress::-webkit-progress-value{initial:none}.lusift-beacon{-webkit-animation-delay:1s;animation-delay:1s;border-radius:50%;cursor:pointer;pointer-events:auto;position:absolute}.lusift .hotspot-tooltip{display:block;font-size:1rem;font-weight:700;padding:5px 9px;white-space:nowrap}.lusift .hotspot-tooltip>*{margin:3px 6px}.lusift .hotspot-tooltip .body-content{margin-top:0!important;min-width:80px}",t.textContent+="\n\n    /* from dynamic javascript variables*/\n\n    .lusift-progress {\n      height: 3px;\n    }\n    .lusift-progress::-webkit-progress-bar {\n      border-radius: 4px; /*border-radius of tooltip*/\n    }\n    .modal .lusift-progress::-webkit-progress-bar {\n      border-radius: 4px; /*border-radius of modal*/\n    }\n    .lusift-progress::-webkit-progress-value {\n      background-color: #17a3a8; /*color of progress bar*/\n    }\n  ";var e=d.document.createElement("style");e.type="text/css",e.setAttribute("lusift-custom","");var n=d.document.createElement("style");n.type="text/css",n.setAttribute("lusift-custom-css","");var i=d.document.createDocumentFragment();i.appendChild(t),i.appendChild(e),i.appendChild(n),d.document.head.appendChild(i)}}()}return t.prototype.showEnabledContent=function(){var t=h(),e=Object.keys(t).find((function(e){var n=t[e].trackingState;return!!n&&n.enabled}));e&&this.showContent(e)},t.prototype.enable=function(t){var e=h();if(!Object.keys(e).some((function(e){return e===t})))return f("Content of id '"+t+"' doesn't exist");Object.keys(e).forEach((function(n){e[n].trackingState&&(e[n].trackingState.enabled=n===t)})),v(e),this.showContent(t)},t.prototype.disable=function(t){var e=h();if(!Object.keys(e).some((function(e){return e===t})))return f("Content of id '"+t+"' doesn't exist");e[t].trackingState.enabled=!1,v(e)},t.prototype.hasGuideDataChanged=function(t){var n=h();if(!n[t.id])return!0;var i=n[t.id];delete i.trackingState;var o=e.__assign({},t);return delete o.onNext,delete o.onClose,delete o.onPrev,!qt(i,o)},t.prototype.reconcileContentWithLocalState=function(){var t=this,e={},n=JSON.parse(JSON.stringify(this.content));Object.keys(this.content).forEach((function(t){var e=n[t].data,i=e.id,o=e.name,r=void 0===o?"":o,s=e.description,a=void 0===s?"":s,c=e.steps,u=e.onNext,d=e.onPrev,l=e.onClose,p=e.doNotResetTrackerOnContentChange,f=void 0!==p&&p,h=c.map((function(t){return"tooltip"===t.type||"modal"===t.type?delete t.data.bodyContent:"hotspot"===t.type&&delete t.tip.data.bodyContent,t}));n[t].data={id:i,name:r,description:a,steps:h,onNext:u,onPrev:d,onClose:l,doNotResetTrackerOnContentChange:f}})),Object.keys(n).forEach((function(i){if("guide"===n[i].type){var o=n[i].data;if(t.hasGuideDataChanged(o)&&!o.doNotResetTrackerOnContentChange)l("guide with id '"+i+"' changed, tracking state reset."),e[o.id]=o;else{var r=h()[o.id];e[o.id]=r}}})),v(e)},t.prototype.setContent=function(t){var e,n,i=this;if(!w(t))return f("Content data type is invalid");this.content=t,Object.keys(t).forEach((function(e){var n=t[e].data,o=n.id,r=n.name,s=void 0===r?"":r,a=n.description,c=void 0===a?"":a,u=n.steps,d=n.onNext,l=n.onPrev,p=n.onClose,f=n.doNotResetTrackerOnContentChange,h=void 0!==f&&f;i.content[e].data={id:o,name:s,description:c,steps:u,onNext:d,onPrev:l,onClose:p,doNotResetTrackerOnContentChange:h}})),this.activeGuide&&(e=this.hasGuideDataChanged(this.content[this.activeGuide.id].data),n=Object.keys(this.content).includes(this.activeGuide.id)),this.reconcileContentWithLocalState(),this.activeGuide&&(!n||n&&e)&&(this.activeGuide.instance.removeAllActiveSteps(),this.activeGuide=null)},t.prototype.clearContent=function(){v({}),this.content={}},t.prototype.refresh=function(){var t=this;this.activeGuide?d.window.setTimeout((function(){t.activeGuide.instance.start(),l("Lusift refreshed")}),0):(p("No active guide instance to refresh"),this.showEnabledContent())},t.prototype.showContent=function(t){var e=this;if(!this.content)return f("Content not set, pass valid content data to setContent()");if(!this.content[t])return f("Content with id of "+t+" doesn't exist");if(this.activeGuide){var n=this.activeGuide,i=n.instance;if(n.id===t)return this.activeGuide.instance.reRenderStepElements(),f(t+" is already active");i.close()}d.window.setTimeout((function(){var n=new Ht(t);e.activeGuide={id:t,instance:n},n.start(),e.prepareHooks()}),500)},t.prototype.prepareHooks=function(){var t=this.activeGuide,e=t.instance,n=t.id;this.next=e.nextStep.bind(e),this.prev=e.prevStep.bind(e),this.close=e.close.bind(e),this.goto=e.setStep.bind(e);var i=this.content[n].data,o=i.onNext,r=i.onPrev,s=i.onClose;this.onNext=o,this.onPrev=r,this.onClose=s},t.prototype.setGlobalStyle=function(t){if("string"!=typeof t)return f("Invalid style passed to setGlobalStyle()");var e=d.document.querySelector("style[lusift-custom-css]");if(!e)return f("Style tag for custom-css not found. Report to Lusift's github.");e.textContent=t},t.prototype.getTrackingState=function(){return this.activeGuide?h()[this.activeGuide.id].trackingState:(p("No active guide"),null)},t.prototype.devShowStep=function(t,e){if(this.activeGuide)return p("Can't enable dev mode because a guide is active using showContent()");if(!this.content)return p("Content not set, pass valid content object to setContent() before running devShowStep()");if(this.next=this.prev=this.close=this.showContent=function(){f("Can't run this method in dev mode")},this.content[t]){var n=this.content[t].data.steps,i=n[e],o=i.target,r=i.type;if(!K({target:o,type:r}))return p("Display criteria for step do not match. Navigate to the right target page and make sure that the target element is in the visible screen, then reload page.");n[e]?(yt(n[e],t),l("%c Showing step "+e+" of "+t+" in dev mode","background: #222; color: #bada55")):f("Guide '"+t+"' doesn't have a step "+e)}else f("Guide with id '"+t+"' doesn't exist")},t}());return void 0!==d.window&&(d.window.addEventListener("error",(function(t){}),!0),Ut.render=function(t,e,n){"function"==typeof t?function(t,e,n){var i=d.document.querySelector(e);c.default.render(r.default.createElement(t,null),i),n&&n()}(t,e,n):function(t,e,n){document.querySelector(e).innerHTML=t,n&&n()}(t,e,n)},d.window.Lusift=Ut),Ut}));
//# sourceMappingURL=index.js.map
